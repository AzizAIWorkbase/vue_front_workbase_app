{"version":3,"file":"js/group-order-forms.8d549063.js","mappings":"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","sources":["webpack://vue-workbase-app/./src/components/order/forms/address-form.vue","webpack://vue-workbase-app/./src/components/order/forms/address-form.vue?482b","webpack://vue-workbase-app/./src/components/order/forms/exit-locations-form.vue","webpack://vue-workbase-app/./src/components/order/forms/exit-locations-form.vue?f90a","webpack://vue-workbase-app/./src/components/order/forms/other-form.vue","webpack://vue-workbase-app/./src/components/order/forms/other-form.vue?8614","webpack://vue-workbase-app/./src/components/order/forms/price-form.vue","webpack://vue-workbase-app/./src/components/order/forms/price-form.vue?e222","webpack://vue-workbase-app/./src/components/order/forms/publish-form.vue","webpack://vue-workbase-app/./src/components/order/forms/publish-form.vue?eef3","webpack://vue-workbase-app/./src/composables/services/create.js","webpack://vue-workbase-app/./src/components/order/forms/select-form.vue","webpack://vue-workbase-app/./src/components/order/forms/select-form.vue?eab5","webpack://vue-workbase-app/./src/components/order/forms/time-form.vue","webpack://vue-workbase-app/./src/components/order/forms/time-form.vue?2b46","webpack://vue-workbase-app/./src/components/order/forms/work-place-form.vue","webpack://vue-workbase-app/./src/components/order/forms/work-place-form.vue?b33d"],"sourcesContent":["<script setup>\nimport BaseForm from \"@/components/order/forms/base-form.vue\";\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, required, requiredIf } from \"@vuelidate/validators\";\nimport debounce from \"lodash.debounce\";\nimport { onMounted, reactive, ref, toRefs, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { yandexMap, ymapMarker, loadYmap } from \"vue-yandex-maps\";\nconst props = defineProps({\n    categorySlug: {},\n    serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst {\n    category,\n    onGetWhenNotLoaded,\n    isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n    await onGetWhenNotLoaded(categorySlug.value);\n});\nconst {\n    currentDraftedOrder,\n    isUpdating: orderIsUpdating,\n    onUpdate: onUpdateOrder,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst mapSettings = {\n    apiKey: \"12a2dc9a-cec9-4cd8-a653-cb852b6dec85\",\n    lang: \"ru_RU\",\n    coordorder: \"latlong\",\n    enterprise: false,\n    version: \"2.1\",\n};\nconst back = () => {\n    router.back();\n};\nonMounted(async () => {\n    await loadYmap();\n});\n\nconst onClickInMap = (e) => {\n    if (e.get == null) {\n        return;\n    }\n    placemark.value = e.get(\"coords\");\n};\nconst address = ref(currentDraftedOrder.value.address);\nconst searchedItems = ref([]);\nconst placemark = ref(\n    currentDraftedOrder.value.lat && currentDraftedOrder.value.lng\n        ? [currentDraftedOrder.value.lat, currentDraftedOrder.value.lng]\n        : []\n);\nconst map = ref();\nconst onSelectItem = (item) => {\n    placemark.value = item.geometry.getCoordinates();\n    address.value = item.getAddressLine();\n    console.log(Array.from(placemark.value));\n    map.value.setCenter(Array.from(placemark.value), 16, { duration: 200 });\n};\nwatch(\n    placemark,\n    debounce(\n        async () =>\n            (address.value = (\n                await ymaps.geocode(Array.from(placemark.value))\n            ).geoObjects\n                .get(0)\n                .getAddressLine()),\n        100\n    )\n);\nwatch(address, async () => {\n    searchedItems.value = ( //Ташкент  ... Узбекистан, Ташкент\n        await ymaps.geocode(address.value)\n    ).geoObjects.toArray();\n});\n\nconst $externalResults = reactive({});\n\nconst v = useVuelidate(\n    {\n        address: {\n            required: helpers.withMessage(\"Введите свой адрес\", required),\n        },\n        placemark: {\n            // custom: (value) => console.log(value?.length == 2),\n        },\n    },\n    { address, placemark },\n    { $externalResults }\n);\n\nconst onSubmit = async (e) => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n\n    await onUpdateOrder({\n        address: address.value,\n        lat: placemark.value[0],\n        lng: placemark.value[1],\n    }).catch(({ response }) => {\n        if (response.status == 400) {\n            const { error } = response.data;\n            if (error.type == \"validation\") {\n                $externalResults.address = error.fields.address || [];\n                $externalResults.placemark =\n                    error.fields.lat || error.fields.lng || [];\n            }\n        }\n    });\n\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"time\",\n        },\n    });\n};\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>Укажите ваш адрес</h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <c-search\n            v-model=\"address\"\n            :items=\"searchedItems\"\n            @on-select-item=\"onSelectItem\"\n            placeholder=\"Город, район, улица, дом\"\n        >\n            <template #list-item=\"{ item }\">\n                {{ item.getAddressLine() }}\n            </template>\n        </c-search>\n        <div\n            class=\"text-red-500 py-2\"\n            v-for=\"error in v.address.$errors || v.placemark.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <yandex-map\n            :settings=\"mapSettings\"\n            :coords=\"\n                placemark?.length\n                    ? placemark\n                    : [41.31377189085043, 69.25741676336806]\n            \"\n            :zoom=\"10\"\n            init-without-markers\n            class=\"h-96 rounded-md overflow-clip\"\n            @click=\"onClickInMap\"\n            @map-was-initialized=\"map = $event\"\n        >\n            <div></div>\n            <ymap-marker\n                markerId=\"address\"\n                :coords=\"placemark\"\n                v-if=\"placemark?.length == 2\"\n            ></ymap-marker>\n            <!-- @dragend=\"onDragEnd\"\n                :options=\"{ draggable: true }\" -->\n        </yandex-map>\n\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>","import script from \"./address-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./address-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>\n                {{\n                    category.id == 1\n                        ? \"Выберите место проведения занятий\"\n                        : \"Выберите место проведения работы\"\n                }}\n            </h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5 mb-3\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <ul>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.at_executor\" type=\"checkbox\" />\n                    у исполнителя\n                </label>\n            </li>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.at_customer\" type=\"checkbox\" />\n                    у заказчика\n                </label>\n            </li>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.is_online\" type=\"checkbox\" />\n                    дистанционно\n                </label>\n            </li>\n        </ul>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_customer.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.is_online.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_executor.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n","import { render } from \"./exit-locations-form.vue?vue&type=template&id=1203d81f\"\nconst script = {}\n\nimport exportComponent from \"/media/jamshid/Local Disk10/vue-workbase-app-main_development/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\nimport { computed, onMounted } from \"@vue/runtime-core\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, minLength } from \"@vuelidate/validators\";\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({\n  categorySlug: {},\n  serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst back = () => {\n  router.back();\n};\nconst {\n  category,\n  onGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n  isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n  await onGetCategoryWhenNotLoaded(categorySlug.value);\n});\n\nconst {\n  currentDraftedOrder,\n  onUpdate: onUpdateOrder,\n  isUpdating: orderIsUpdating,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst description = ref(currentDraftedOrder?.value?.description || \"\");\n\nconst $externalResults = reactive({\n  description: [],\n});\n\nconst v = useVuelidate(\n  {\n    description: {\n      minLength: helpers.withMessage(\n        \"Минимиальное количество символов 5.\",\n        minLength(5)\n      ),\n    },\n  },\n  {\n    description,\n  },\n  { $externalResults }\n);\nconst onSubmit = async (e) => {\n  if (!(await v.value.$validate())) {\n    return;\n  }\n\n  await onUpdateOrder({\n    description: description.value,\n  }).catch(({ response }) => {\n    const { error } = response?.data;\n    if (error?.type == \"validation\") {\n      $externalResults.description = error.fields.description || [];\n    }\n\n    throw new Error(error);\n  });\n\n  router.push({\n    name: \"order.update\",\n    params: {\n      categorySlug: categorySlug.value,\n      serviceSlugs: serviceSlugs.value,\n      form: \"publish\",\n    },\n  });\n};\n\nconst isLoading = computed(\n  () => orderIsUpdating.value || categoryIsLoading.value\n);\n</script>\n<template>\n  <BaseForm @on-submit=\"onSubmit\">\n    <template #header>\n      <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n        <div class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"></div>\n      </div>\n      <h1\n        class=\"text-2xl text-primary\"\n        :class=\"{ 'animate-pulse': isLoading }\"\n        v-else\n      >\n        Пожелания к заказу\n      </h1>\n      <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n        <div class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"></div>\n      </div>\n      <p class=\"text-orange-500\" :class=\"{ 'animate-pulse': isLoading }\">\n        {{ category.name }}\n      </p>\n    </template>\n\n    <div :class=\"{ 'animate-pulse': isLoading }\">\n      <c-textarea\n        autofocus\n        name=\"kfjklsdj\"\n        v-model=\"description\"\n        class=\"w-full max-h-[600px] min-h-[170px]\"\n        rows=\"10\"\n        placeholder=\"В этом поле Вы можете написать дополнительные условия и уточнения по работе. Данное поле поможет специалисту лучше подготовится к работе и понять специфику задачи.\n\tНапример:\n\t1. Прошу приобрести розетки и лампочки самостоятельно, дополнительные расходы будут покрыты Заказчиком. \n\t2. По мимо уборки квартиры, необходимо постирать и погладить одежду.\"\n      >\n        Дополнительные пожелания\n      </c-textarea>\n      <div\n        class=\"text-red-500 mb-3 mt-1\"\n        v-for=\"error in v.description.$errors\"\n        :key=\"error.$uid\"\n      >\n        {{ error.$message }}\n      </div>\n    </div>\n    <template #footer>\n      <c-button\n        scheme=\"secondary\"\n        type=\"button\"\n        @click=\"back\"\n        :loading=\"isLoading\"\n        :disabled=\"isLoading\"\n      >\n        Назад\n      </c-button>\n      <c-button :loading=\"isLoading\" :disabled=\"isLoading\">\n        Продолжить\n      </c-button>\n    </template>\n  </BaseForm>\n</template>\n\n","import script from \"./other-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./other-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\n\timport { reactive, ref, toRefs, watch } from \"vue\";\n\timport { onMounted } from \"@vue/runtime-core\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport {\n\t\thelpers,\n\t\trequired,\n\t\trequiredIf,\n\t\trequiredUnless,\n\t} from \"@vuelidate/validators\";\n\timport { useRouter } from \"vue-router\";\n\timport BaseForm from \"./base-form.vue\";\n\tconst props = defineProps({\n\t\tcategorySlug: {},\n\t\tserviceSlugs: {},\n\t});\n\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\n\tconst router = useRouter();\n\n\tconst {\n\t\tcategory,\n\t\tonGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n\t\tisLoading: categoryIsLoading,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetCategoryWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\n\tconst {\n\t\tcurrentDraftedOrder,\n\t\tisUpdating: orderIsUpdating,\n\t\tonUpdate: onUpdateOrder,\n\t} = useUpdateOrderApi(categorySlug.value);\n\n\tconst minPrice = ref(currentDraftedOrder.value?.price_min || \"\");\n\tconst maxPrice = ref(currentDraftedOrder.value?.price_max || \"\");\n\tconst $externalResults = reactive({\n\t\tminPrice: [],\n\t\tmaxPrice: [],\n\t});\n\n\twatch(minPrice, () => {\n\t\t$externalResults.minPrice = [];\n\t});\n\n\twatch(maxPrice, () => {\n\t\t$externalResults.maxPrice = [];\n\t});\n\n\tconst rules = {\n\t\tminPrice: {\n\t\t\trequiredIf: helpers.withMessage(\"\", requiredIf(false)),\n\t\t},\n\t\tmaxPrice: {\n\t\t\trequired: helpers.withMessage(\"Укажите максимальную цену\", required),\n\t\t},\n\t};\n\n\tconst v = useVuelidate(rules, { minPrice, maxPrice }, { $externalResults });\n\n\tconst onSubmit = async (e) => {\n\t\tif (!(await v.value.$validate())) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait onUpdateOrder({\n\t\t\tprice_min: minPrice.value || 0,\n\t\t\tprice_max: maxPrice.value,\n\t\t\tis_ranged_price: true,\n\t\t}).catch(({ response }) => {\n\t\t\tconst { error } = response?.data;\n\t\t\tif (error?.type == \"validation\") {\n\t\t\t\t$externalResults.minPrice = error.fields.price_min || [];\n\t\t\t\t$externalResults.maxPrice = error.fields.price_max || [];\n\t\t\t}\n\n\t\t\tthrow new Error(error);\n\t\t});\n\t\trouter.push({\n\t\t\tname: \"order.update\",\n\t\t\tparams: {\n\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\tserviceSlugs: serviceSlugs.value,\n\t\t\t\tform: \"other\",\n\t\t\t},\n\t\t});\n\t};\n</script>\n<template>\n\t<BaseForm @on-submit=\"onSubmit\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-2xl text-primary\" v-else>Укажите цену за услугу</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<div class=\"grid gap-4 grid-cols-2\">\n\t\t\t<!-- <div class=\"col-span-2\">\n\t\t\t\t<label for=\"priceField\" class=\"mb-2 inline-block\">\n\t\t\t\t\tЦена за работу:\n\t\t\t\t</label>\n\t\t\t\t<label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\trounded-md\n\t\t\t\t\t\tbg-primary/10\n\t\t\t\t\t\tborder border-primary/10\n\t\t\t\t\t\thover:border-primary/50\n\t\t\t\t\t\tfocus-within:!border-primary focus-within:outline-none\n\t\t\t\t\t\toverflow-hidden\n\t\t\t\t\t\tflex\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"py-1.5 px-2\">От:</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"priceField\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"price\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\tw-full\n\t\t\t\t\t\t\tpr-2\n\t\t\t\t\t\t\tpy-1.5\n\t\t\t\t\t\t\tbg-transparent\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tmin=\"1000\"\n\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.price.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\t\t\t<div class=\"col-span-2 sm:col-span-1 md:col-span-2 lg:col-span-1\">\n\t\t\t\t<c-input\n\t\t\t\t\tplaceholder=\"1000\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tv-model=\"minPrice\"\n\t\t\t\t\tclass=\"w-full py-2\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tname=\"minPrice\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>От:</template>\n\t\t\t\t\tМинимальный бюджет за работу\n\t\t\t\t</c-input>\n\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.minPrice.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"\n\t\t\t\t\tcol-span-2\n\t\t\t\t\tsm:col-span-1\n\t\t\t\t\tmd:col-span-2\n\t\t\t\t\tlg:col-span-1\n\t\t\t\t\tflex flex-col\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<c-input\n\t\t\t\t\tplaceholder=\"10000\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tv-model=\"maxPrice\"\n\t\t\t\t\tname=\"maxPrice\"\n\t\t\t\t\tclass=\"w-full py-2\"\n\t\t\t\t\tautofocus\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>До:</template>\n\t\t\t\t\tМаксимальный бюджет за работу\n\t\t\t\t</c-input>\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.maxPrice.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<template #footer>\n\t\t\t<c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n\t\t\t\tНазад\n\t\t\t</c-button>\n\t\t\t<c-button> Продолжить </c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./price-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./price-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport { useRouter } from \"vue-router\";\n\timport { onMounted, reactive, ref, toRef, toRefs, watch } from \"vue\";\n\timport BaseForm from \"./base-form.vue\";\n\timport { isAuthentificated, useLogin, useRegister } from \"@/composables/auth\";\n\timport { ProfileType } from \"@/utils/enums\";\n\timport {\n\t\temail,\n\t\thelpers,\n\t\trequired,\n\t\trequiredIf,\n\t\tsameAs,\n\t} from \"@vuelidate/validators\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport { or } from \"@vueuse/core\";\n\timport { usePublishOrderApi } from \"@/composables/orders/instance&storage\";\n\n\tconst props = defineProps({\n\t\tcategorySlug: {},\n\t\tserviceSlugs: {},\n\t});\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\tconst {\n\t\tonGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n\t\tisLoading: categoryIsLoading,\n\t\tcategory,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetCategoryWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst router = useRouter();\n\tconst { onPublish, isPublishing, isPublished, currentDraftedOrder } =\n\t\tusePublishOrderApi(categorySlug.value);\n\n\tconst onSubmit = async () => {\n\t\tawait onPublish().catch(({ response }) => {\n\t\t\tconsole.dir(response);\n\t\t});\n\t\trouter.push(\"/\");\n\t};\n\n\tconst { onRegister, isRegistering, isRegistered } = useRegister();\n\n\tconst registerState = reactive({\n\t\tname: \"\",\n\t\tsurname: \"\",\n\t\tpatronymic: \"\",\n\t\tusername: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tpasswordConfirmation: \"\",\n\t\ttype: ProfileType.customer,\n\t});\n\n\twatch(\n\t\t() => registerState.name,\n\t\t() => {\n\t\t\tregisterExternalResults.name = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.surname,\n\t\t() => {\n\t\t\tregisterExternalResults.surname = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.patronymic,\n\t\t() => {\n\t\t\tregisterExternalResults.patronymic = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.username,\n\t\t() => {\n\t\t\tregisterExternalResults.username = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.email,\n\t\t() => {\n\t\t\tregisterExternalResults.email = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.password,\n\t\t() => {\n\t\t\tregisterExternalResults.password = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.passwordConfirmation,\n\t\t() => {\n\t\t\tregisterExternalResults.passwordConfirmation = [];\n\t\t}\n\t);\n\tconst registerRules = {\n\t\tname: {\n\t\t\trequired: helpers.withMessage(\"Введите имя\", required),\n\t\t},\n\t\tsurname: {\n\t\t\trequired: helpers.withMessage(\"Введите фамилию\", required),\n\t\t},\n\t\tpatronymic: {\n\t\t\trequiredIf: requiredIf(false),\n\t\t},\n\t\tusername: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\temail: {\n\t\t\trequired: helpers.withMessage(\"Введите емэил\", required),\n\t\t\temail: helpers.withMessage(\"Введите корректный емэил\", email),\n\t\t},\n\t\tpassword: {\n\t\t\trequired: helpers.withMessage(\"Укажите пароль\", required),\n\t\t},\n\t\tpasswordConfirmation: {\n\t\t\tsameAsPassword: helpers.withMessage(\n\t\t\t\t\"Подтверждение пароля не совподает с паролем\",\n\t\t\t\tsameAs(toRef(registerState, \"password\"))\n\t\t\t),\n\t\t},\n\t\ttype: {\n\t\t\trequired: helpers.withMessage(\"Укажите тип пользователя\", required),\n\t\t\tin: helpers.withMessage(\n\t\t\t\t\"Тип пользователя может быть только как заказчик или исполнитель\",\n\t\t\t\tor(sameAs(ProfileType.customer), sameAs(ProfileType.executor))\n\t\t\t),\n\t\t},\n\t};\n\n\tconst registerExternalResults = reactive({\n\t\tname: [],\n\t\tsurname: [],\n\t\tpatronymic: [],\n\t\tusername: [],\n\t\temail: [],\n\t\tpassword: [],\n\t\tpasswordConfirmation: [],\n\t});\n\n\tconst registerValidator = useVuelidate(registerRules, registerState, {\n\t\t$externalResults: registerExternalResults,\n\t});\n\tconst registerErrorMessage = ref();\n\tconst onRegisterHandler = async () => {\n\t\tif (!(await registerValidator.value.$validate())) return;\n\n\t\tonRegister(registerState).catch(({ response }) => {\n\t\t\tconst { type, fields, message } = response.data.error;\n\n\t\t\tif (type == \"validation\") {\n\t\t\t\tObject.assign(registerExternalResults, fields);\n\t\t\t}\n\n\t\t\tif (type == \"auth\") {\n\t\t\t\tregisterErrorMessage.value = message;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst { onLogin, isLogining, profile, isLogined } = useLogin();\n\n\tconst loginState = reactive({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\ttype: ProfileType.customer,\n\t});\n\n\twatch(\n\t\t() => loginState.username,\n\t\t() => {\n\t\t\tloginExternalResults.username = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => loginState.password,\n\t\t() => {\n\t\t\tloginExternalResults.password = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => loginState.type,\n\t\t() => {\n\t\t\tloginExternalResults.type = [];\n\t\t}\n\t);\n\n\tconst loginRules = reactive({\n\t\tusername: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\tpassword: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\ttype: {\n\t\t\tin: helpers.withMessage(\n\t\t\t\t\"Тип пользователя может быть только как заказчик или исполнитель\",\n\t\t\t\tor(sameAs(ProfileType.customer), sameAs(ProfileType.executor))\n\t\t\t),\n\t\t},\n\t});\n\tconst loginExternalResults = reactive({\n\t\tusername: [],\n\t\tpassword: [],\n\t\ttype: [],\n\t});\n\tconst loginValidator = useVuelidate(loginRules, loginState, {\n\t\t$externalResults: loginExternalResults,\n\t});\n\tconst loginErrorMessage = ref();\n\tconst onLoginHandler = async () => {\n\t\tif (!(await loginValidator.value.$validate())) return;\n\t\tonLogin(loginState).catch(({ response }) => {\n\t\t\tconst { type, fields, message } = response.data.error;\n\t\t\tif (type == \"validation\") {\n\t\t\t\tObject.assign(loginExternalResults, fields);\n\t\t\t}\n\t\t\tif (type == \"auth\") {\n\t\t\t\tloginErrorMessage.value = message;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\n\tconst isLoginForm = ref(true);\n\n\tconst fullname = ref(\n\t\t`${profile?.value?.name} ${profile?.value?.surname} ${profile?.value?.patronymic}`\n\t);\n</script>\n<template>\n\t<BaseForm @submit=\"onSubmit\" :class=\"{ 'animate-pulse': isPublishing }\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-2xl text-primary\" v-else>\n\t\t\t\t<span v-if=\"!isAuthentificated\">\n\t\t\t\t\tПочти все готово, осталось авторизоваться в системе!\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"isRegistered\">\n\t\t\t\t\tВы успешно зарегистрировались, опубликуйте заказ!\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"isLogined\">\n\t\t\t\t\tВы успешно авторизовались, опубликуйте заказ!\n\t\t\t\t</span>\n\t\t\t\t<span v-else> Все готово, опубликуйте заказ! </span>\n\t\t\t</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<div v-if=\"isAuthentificated\" class=\"max-w-[24rem]\">\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">\n\t\t\t\tОпубликовать заказ под именем\n\t\t\t</h3>\n\t\t\t<c-input v-model=\"fullname\" name=\"fullname\" class=\"w-full\" disabled>\n\t\t\t\tФИО\n\t\t\t</c-input>\n\t\t</div>\n\t\t<form\n\t\t\t@submit.prevent=\"onLoginHandler\"\n\t\t\tv-else-if=\"isLoginForm\"\n\t\t\tclass=\"max-w-[24rem]\"\n\t\t>\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">Авторизация</h3>\n\t\t\t<div class=\"text-red-500 mt-2 mb-3\">\n\t\t\t\t{{ loginErrorMessage }}\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"loginState.username\"\n\t\t\t\tplaceholder=\"+998901234567\"\n\t\t\t\tname=\"username\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:valid=\"!loginValidator.username.$error\"\n\t\t\t>\n\t\t\t\tНомер телефона\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in loginValidator.username.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"loginState.password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!loginValidator.password.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПароль\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in loginValidator.password.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-button\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:disabled=\"isLogining\"\n\t\t\t\t:loading=\"isLogining\"\n\t\t\t>\n\t\t\t\tВойти\n\t\t\t</c-button>\n\t\t\t<p class=\"mt-3 mb-3\">\n\t\t\t\tЕще нет аккаунта?\n\t\t\t\t<a\n\t\t\t\t\t@click=\"isLoginForm = false\"\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\ttext-primary\n\t\t\t\t\t\thover:text-primary/75 hover:cursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tЗарегистрируйтесь!\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</form>\n\n\t\t<form @submit.prevent=\"onRegisterHandler\" v-else class=\"max-w-[24rem]\">\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">Регистрация</h3>\n\t\t\t<div class=\"text-red-500 mt-2 mb-3\">\n\t\t\t\t{{ registerErrorMessage }}\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.name\"\n\t\t\t\tname=\"name\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.name.$error\"\n\t\t\t>\n\t\t\t\tИмя\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.name.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.surname\"\n\t\t\t\tname=\"surname\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.surname.$error\"\n\t\t\t>\n\t\t\t\tФамилия\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.surname.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.patronymic\"\n\t\t\t\tname=\"patronymic\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.patronymic.$error\"\n\t\t\t>\n\t\t\t\tОтчество\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.patronymic.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.username\"\n\t\t\t\tname=\"username\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.username.$error\"\n\t\t\t>\n\t\t\t\tНомер телефона\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.username.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.email\"\n\t\t\t\tname=\"email\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"email\"\n\t\t\t\t:valid=\"!registerValidator.email.$error\"\n\t\t\t>\n\t\t\t\tЭлектронный почтовый адрес\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.email.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!registerValidator.password.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПароль\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.password.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.passwordConfirmation\"\n\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!registerValidator.passwordConfirmation.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПодтверждение пароля\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.passwordConfirmation\n\t\t\t\t\t\t.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-button\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:disabled=\"isRegistering\"\n\t\t\t\t:loading=\"isRegistering\"\n\t\t\t>\n\t\t\t\tЗарегистрироваться\n\t\t\t</c-button>\n\t\t\t<p class=\"mt-3 mb-3\">\n\t\t\t\tУже имеется аккаунт?\n\t\t\t\t<a\n\t\t\t\t\t@click=\"isLoginForm = true\"\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\ttext-primary\n\t\t\t\t\t\thover:text-primary/75 hover:cursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tАвторизуйтесь!\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</form>\n\t\t<template #footer>\n\t\t\t<c-button\n\t\t\t\tscheme=\"secondary\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t@click=\"back\"\n\t\t\t\t:disabled=\"isPublishing\"\n\t\t\t>\n\t\t\t\tНазад\n\t\t\t</c-button>\n\t\t\t<c-button :disabled=\"!isAuthentificated || isPublishing\">\n\t\t\t\tОпубликовать\n\t\t\t</c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./publish-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./publish-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { create } from \"@/api/services\";\nimport { reactive, readonly, ref } from \"vue\";\n\n\nconst service = reactive({\n\n})\nconst isCreating = ref(false);\nconst isCreated = ref(false);\nconst promise = ref(null);\n\n\nexport default function useCreateServiceApi() {\n\n    const onCreate = (data = { name: '', parent: null, category: null, }) => {\n        isCreating.value = true;\n        isCreated.value = false;\n        promise.value = create(data)\n            .then(response => response.data)\n            .then(data => {\n                Object.assign(service, data.service);\n                isCreated.value = true;\n                return readonly(service);\n            }).finally(() => isCreating.value = false);\n        return promise.value;\n    }\n\n    return {\n        isCreating: readonly(isCreating),\n        isCreated: readonly(isCreated),\n        promise: readonly(promise),\n        onCreate,\n    };\n}","<script setup>\n\timport BaseForm from \"@/components/order/forms/base-form.vue\";\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport useServicesApi from \"@/composables/services\";\n\timport {\n\t\tcomputed,\n\t\tonMounted,\n\t\treactive,\n\t\tref,\n\t\ttoRefs,\n\t\twatch,\n\t} from \"@vue/runtime-core\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport { helpers, requiredIf, requiredUnless } from \"@vuelidate/validators\";\n\timport { useRouter } from \"vue-router\";\n\timport useCreateServiceApi from \"@/composables/services/create\";\n\timport {\n\t\tuseCreateOrderApi,\n\t\tuseUpdateOrderApi,\n\t} from \"@/composables/orders/instance&storage\";\n\timport useServiceApi from \"@/composables/services/instance\";\n\n\tconst props = defineProps({ categorySlug: {}, serviceSlugs: {} });\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\tconst router = useRouter();\n\n\tconst {\n\t\tonGetWhenNotLoaded,\n\t\tcategory,\n\t\tisLoading: categoryIsLoading,\n\t\tisLoaded: categoryIsLoaded,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst {\n\t\tservices,\n\t\tisLoading: servicesIsLoading,\n\t\tisLoaded: servicesIsLoaded,\n\t\tonGet: onGetServices,\n\t} = useServicesApi({\n\t\tperPage: 1000,\n\t\tcategory: categorySlug.value,\n\t\tparent: serviceSlugs.value?.[serviceSlugs.value?.length - 1],\n\t});\n\tconst isExpanded = ref(false);\n\tonMounted(async () => {\n\t\tawait onGetServices({});\n\t\tif (services.value.length < 8) {\n\t\t\tisExpanded.value = true;\n\t\t}\n\t\tif (!!!currentDraftedOrder.value) return;\n\t\tconst s = currentDraftedOrder.value.services.find((ss) =>\n\t\t\tservices.value.find((sss) => sss.slug == ss.slug)\n\t\t);\n\t\tservice.value = s?.slug;\n\t\t// const serv = currentDraftedOrder?.value?.services.find(\n\t\t//     (s) =>\n\t\t//         !s.is_active &&\n\t\t//         s.parent?.slug ==\n\t\t//             serviceSlugs.value?.[serviceSlugs.value?.length - 1]\n\t\t// );\n\t\t// console.log(serv);\n\t});\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\tconst computedServices = computed(() => {\n\t\tif (isExpanded.value) {\n\t\t\treturn services.value;\n\t\t}\n\t\tconst index =\n\t\t\tservices.value?.findIndex((s) =>\n\t\t\t\tcurrentDraftedOrder.value?.services?.find((ss) => ss.slug == s.slug)\n\t\t\t) + 1;\n\t\treturn services.value?.slice(0, index > 8 ? index : 8);\n\t});\n\n\tconst isLoading = computed(\n\t\t() =>\n\t\t\tcategoryIsLoading.value ||\n\t\t\tservicesIsLoading.value ||\n\t\t\torderIsUpdating.value ||\n\t\t\torderIsCreating.value ||\n\t\t\tserviceIsLoading.value\n\t);\n\n\tconst service = ref();\n\tconst newEntry = ref(false);\n\tconst newEntryField = ref(\"\");\n\twatch(service, (value) => {\n\t\tif (value != null) newEntry.value = false;\n\t\t$externalResults.service = null;\n\t});\n\twatch(newEntry, (value) => {\n\t\tif (!!value) service.value = null;\n\t\t$externalResults.newEntryField = null;\n\t});\n\n\twatch(newEntryField, () => {\n\t\t$externalResults.newEntryField = null;\n\t});\n\n\tconst $externalResults = reactive({});\n\tconst rules = {\n\t\tservice: {\n\t\t\trequiredUnless: helpers.withMessage(\n\t\t\t\t\"Выберите услугу\",\n\t\t\t\trequiredUnless(newEntry)\n\t\t\t),\n\t\t},\n\t\tnewEntry: {},\n\t\tnewEntryField: {\n\t\t\trequiredif: helpers.withMessage(\n\t\t\t\t\"Заполните данное поле\",\n\t\t\t\trequiredIf(newEntry)\n\t\t\t),\n\t\t},\n\t};\n\n\tconst v = useVuelidate(\n\t\trules,\n\t\t{ service, newEntry, newEntryField },\n\t\t{ $externalResults }\n\t);\n\n\tconst { onCreate: onCreateService, isCreating: serviceIsCreating } =\n\t\tuseCreateServiceApi();\n\n\tconst {\n\t\tonUpdate: onUpdateOrder,\n\t\tisUpdating: orderIsUpdating,\n\t\tcurrentDraftedOrder,\n\t} = useUpdateOrderApi(categorySlug.value);\n\n\tconst { onCreate: onCreateOrder, isCreating: orderIsCreating } =\n\t\tuseCreateOrderApi(categorySlug.value);\n\n\tconst {\n\t\tservice: fetchedService,\n\t\tonGet: onGetService,\n\t\tisLoading: serviceIsLoading,\n\t} = useServiceApi();\n\n\tconst onSubmit = async (e) => {\n\t\tif (!(await v.value.$validate())) {\n\t\t\treturn;\n\t\t}\n\t\tlet newService;\n\t\tif (newEntry.value) {\n\t\t\tnewService = await onCreateService({\n\t\t\t\tname: newEntryField.value,\n\t\t\t\tparent: serviceSlugs.value?.[serviceSlugs.value?.length - 1],\n\t\t\t\tcategory: categorySlug.value,\n\t\t\t}).catch(({ response }) => {\n\t\t\t\tif (response.status != 400) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { type, fields } = response.data?.error;\n\n\t\t\t\tif (type == \"validation\") {\n\t\t\t\t\t$externalResults.newEntryField = fields.name;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!!!newService?.id) return;\n\t\t\tconsole.log(newService);\n\t\t} else {\n\t\t\tawait onGetService(service.value, { count: [\"children\"] });\n\t\t}\n\n\t\tconst servicesList = serviceSlugs.value || [];\n\t\tif (service.value) {\n\t\t\tservicesList.push(service.value);\n\t\t} else {\n\t\t\tservicesList.push(newService.slug);\n\t\t}\n\n\t\tif (!!!currentDraftedOrder.value)\n\t\t\tawait onCreateOrder({\n\t\t\t\tcategory: categorySlug.value,\n\t\t\t\tservices: servicesList,\n\t\t\t});\n\t\telse\n\t\t\tawait onUpdateOrder({\n\t\t\t\tservices: servicesList,\n\t\t\t});\n\n\t\tif (fetchedService?.value?.children_count > 0) {\n\t\t\tlocation.href =\n\t\t\t\t\"/\" +\n\t\t\t\tObject.values({\n\t\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\t\tserviceSlugs: servicesList,\n\t\t\t\t\tform: \"select\",\n\t\t\t\t})\n\t\t\t\t\t.map((element) =>\n\t\t\t\t\t\tArray.isArray(element) ? element.join(\"/\") : element\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"/\");\n\t\t} else {\n\t\t\trouter.push({\n\t\t\t\tname: \"order.update\",\n\t\t\t\tparams: {\n\t\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\t\tserviceSlugs: servicesList,\n\t\t\t\t\tform: \"work-place\",\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n</script>\n\n<template>\n\t<BaseForm @on-submit=\"onSubmit\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-7 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-3xl text-primary\" v-else>Выберите услугу</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<ul v-if=\"servicesIsLoading\">\n\t\t\t<li\n\t\t\t\tv-for=\"item in 8\"\n\t\t\t\t:key=\"`service-item-skeleton${item}`\"\n\t\t\t\tclass=\"border border-transparent\"\n\t\t\t>\n\t\t\t\t<div class=\"py-1.5 flex gap-2 items-center animate-pulse\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-full h-4 w-4 border-8 border-primary/20\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"pt-1 pb-1\">\n\t\t\t\t\t\t<div class=\"h-4 w-24 bg-primary/10 rounded-md\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class=\"py-0.5 flex gap-2 items-center animate-pulse\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-full h-4 w-4 border-8 border-primary/20\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"h-8.5 w-48 bg-primary/10 rounded-md\"></div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t<ul v-else>\n\t\t\t<li\n\t\t\t\tv-for=\"s in computedServices\"\n\t\t\t\t:key=\"s.id\"\n\t\t\t\tclass=\"border border-transparent\"\n\t\t\t>\n\t\t\t\t<c-radio v-model=\"service\" name=\"service\" :value=\"s.slug\">{{ s.name }}</c-radio>\n\t\t\t\t<!-- <label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t\tpy-1.5\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tgap-2\n\t\t\t\t\t\titems-center\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tappearance-none\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\th-4\n\t\t\t\t\t\t\tw-4\n\t\t\t\t\t\t\tborder border-primary/50\n\t\t\t\t\t\t\thover:border-primary/75\n\t\t\t\t\t\t\tchecked:!border-[5px] checked:!border-primary/100\n\t\t\t\t\t\t\tfocus:ring-2\n\t\t\t\t\t\t\tfocus:ring-primary/50\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\tdisabled:ring-0\n\t\t\t\t\t\t\tdisabled:border-8\n\t\t\t\t\t\t\tdisabled:bg-white\n\t\t\t\t\t\t\tdisabled:!border-primary/20\n\t\t\t\t\t\t\ttransition-all\n\t\t\t\t\t\t\tduration-200\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-model=\"service\"\n\t\t\t\t\t\t:value=\"s.slug\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"peer-checked:text-primary\">\n\t\t\t\t\t\t{{ s.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</label> -->\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t\tpy-0.5\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tgap-2\n\t\t\t\t\t\titems-center\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t\t@click=\"newEntry = true\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tappearance-none\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\th-4\n\t\t\t\t\t\t\tw-4\n\t\t\t\t\t\t\tborder border-primary/50\n\t\t\t\t\t\t\thover:border-primary/75\n\t\t\t\t\t\t\tchecked:!border-[5px] checked:!border-primary/100\n\t\t\t\t\t\t\tfocus:ring-2\n\t\t\t\t\t\t\tfocus:ring-primary/50\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\tdisabled:ring-0\n\t\t\t\t\t\t\tdisabled:border-8\n\t\t\t\t\t\t\tdisabled:bg-white\n\t\t\t\t\t\t\tdisabled:!border-primary/20\n\t\t\t\t\t\t\ttransition-all\n\t\t\t\t\t\t\tduration-200\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-model=\"newEntry\"\n\t\t\t\t\t\t:value=\"true\"\n\t\t\t\t\t\tid=\"radioNewEntry\"\n\t\t\t\t\t/>\n\t\t\t\t\t<c-input\n\t\t\t\t\t\tv-model=\"newEntryField\"\n\t\t\t\t\t\t@click=\"newEntry = true\"\n\t\t\t\t\t\tplaceholder=\"Другое\"\n\t\t\t\t\t\tclass=\"!py-1\"\n\t\t\t\t\t>\n\t\t\t\t\t</c-input>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"error in v.newEntryField.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div\n\t\t\tv-for=\"error in v.service.$errors\"\n\t\t\t:key=\"error.$uid\"\n\t\t\tclass=\"text-red-500\"\n\t\t>\n\t\t\t{{ error.$message }}\n\t\t</div>\n\t\t<div v-if=\"servicesIsLoading\" class=\"pt-1.5 pb-0.5 mt-2\">\n\t\t\t<div class=\"h-4 w-44 bg-primary/10 rounded-md animate-pulse\"></div>\n\t\t</div>\n\t\t<a\n\t\t\tclass=\"text-primary hover:text-primary/75 mt-2 inline-block\"\n\t\t\thref=\"javascript:;\"\n\t\t\t@click=\"isExpanded = true\"\n\t\t\tv-else-if=\"!isExpanded\"\n\t\t>\n\t\t\tпоказать все услуги\n\t\t\t<h-chevron-down class=\"h-4 w-4 inline\"></h-chevron-down>\n\t\t</a>\n\t\t<div class=\"h-4\"></div>\n\t\t<template #footer>\n\t\t\t<c-button\n\t\t\t\tscheme=\"secondary\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t@click=\"back\"\n\t\t\t\t:loading=\"isLoading\"\n\t\t\t\t:disabled=\"isLoading\"\n\t\t\t>\n\t\t\t\tназад\n\t\t\t</c-button>\n\t\t\t<c-button :loading=\"isLoading\" :disabled=\"isLoading\">\n\t\t\t\tпродолжить\n\t\t\t</c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./select-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./select-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\nimport { onMounted, watch } from \"@vue/runtime-core\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, minValue, required } from \"@vuelidate/validators\";\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({\n    categorySlug: {},\n    serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst back = () => {\n    router.back();\n};\nconst {\n    category,\n    onGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n    isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n    await onGetCategoryWhenNotLoaded(categorySlug.value);\n});\n\nconst { currentDraftedOrder, onUpdate: onUpdateOrder } = useUpdateOrderApi(\n    categorySlug.value\n);\n\nconst { started_at, ended_at } = currentDraftedOrder?.value || {};\nconst startedAt = ref(started_at ? new Date(started_at).toISOString().slice(0, -8) : null);\nconst endedAt = ref(ended_at ? new Date(ended_at).toISOString().slice(0, -8) : null);\nconst $externalResults = reactive({\n    startedAt: [],\n    endedAt: [],\n});\n\nconst v = useVuelidate(\n    {\n        startedAt: {\n            required: helpers.withMessage(\"Укажите дату\", required),\n            minValue: helpers.withMessage(\n                \"Время начала должна быть больше текущей\",\n                (value) => {\n                    return new Date(value) > new Date();\n                }\n            ),\n        },\n        endedAt: {\n            required: helpers.withMessage(\"Укажите дату\", required),\n            minValueRef: helpers.withMessage(\n                \"Время завершения должна быть больше времени началы\",\n                (value) => {\n                    return new Date(value) > new Date(startedAt.value);\n                }\n            ),\n        },\n    },\n    {\n        startedAt,\n        endedAt,\n    },\n    { $externalResults }\n);\nconst onSubmit = async (e) => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n\n    await onUpdateOrder({\n        started_at: new Date(startedAt.value)\n            .toISOString()\n            .slice(0, -5)\n            .replace(\"T\", \" \"),\n        ended_at: new Date(endedAt.value)\n            .toISOString()\n            .slice(0, -5)\n            .replace(\"T\", \" \"),\n    }).catch(({ response }) => {\n        const { error } = response?.data;\n        if (error?.type == \"validation\") {\n            $externalResults.startedAt = error.fields.started_at || [];\n            $externalResults.endedAt = error.fields.ended_at || [];\n        }\n    });\n\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"price\",\n        },\n    });\n};\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>Укажите время</h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <div\n            class=\"\n                flex flex-col\n                sm:flex-row\n                md:flex-col\n                lg:flex-row\n                gap-4\n                min-h-[16rem]\n            \"\n        >\n            <div class=\"flex-initial sm:flex-1 md:flex-initial lg:flex-1\">\n                <label for=\"startedAtField\" class=\"mb-2 inline-block\">\n                    Дата и время начала работы:\n                </label>\n                <input\n                    id=\"startedAtField\"\n                    type=\"datetime-local\"\n                    v-model=\"startedAt\"\n                    :min=\"new Date().toISOString().slice(0, -8)\"\n                    class=\"\n                        block\n                        w-full\n                        px-4\n                        py-1.5\n                        rounded-md\n                        bg-primary/10\n                        border border-primary/10\n                        hover:border-primary/50\n                        focus:border-primary focus:outline-none\n                    \"\n                />\n                <div\n                    class=\"text-red-500\"\n                    v-for=\"error in v.startedAt.$errors\"\n                    :key=\"error.$uid\"\n                >\n                    {{ error.$message }}\n                </div>\n            </div>\n            <div class=\"flex-0 sm:flex-1 md:flex-0 lg:flex-1\">\n                <label for=\"endedAtField\" class=\"mb-2 inline-block\">\n                    Дата и время завершения работы:\n                </label>\n                <input\n                    id=\"endedAtField\"\n                    type=\"datetime-local\"\n                    v-model=\"endedAt\"\n                    :min=\"\n                        (startedAt ? new Date(startedAt) : new Date())\n                            .toISOString()\n                            .slice(0, -8)\n                    \"\n                    class=\"\n                        block\n                        w-full\n                        px-4\n                        py-1.5\n                        rounded-md\n                        bg-primary/10\n                        border border-primary/10\n                        hover:border-primary/50\n                        focus:border-primary focus:outline-none\n                    \"\n                />\n\n                <div\n                    class=\"text-red-500\"\n                    v-for=\"error in v.endedAt.$errors\"\n                    :key=\"error.$uid\"\n                >\n                    {{ error.$message }}\n                </div>\n            </div>\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n\n","import script from \"./time-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./time-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport {\n    useCreateOrderApi,\n    useUpdateOrderApi,\n} from \"@/composables/orders/instance&storage\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, requiredIf, requiredUnless } from \"@vuelidate/validators\";\nimport { reactive, ref, onMounted, watch, toRefs } from \"vue\";\n\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({ categorySlug: {}, serviceSlugs: {} });\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\nconst {\n    category,\n    isLoading: categoryIsLoading,\n    onGetWhenNotLoaded,\n} = useCategoryApi();\n\nonMounted(() => {\n    onGetWhenNotLoaded(categorySlug.value);\n});\n\nconst {\n    currentDraftedOrder,\n    isUpdating: orderIsUpdating,\n    onUpdate: onUpdateOrder,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst { onCreate: onCreateOrder, isCreating: orderIsCreating } =\n    useCreateOrderApi(categorySlug.value);\n\nconst router = useRouter();\n\nconst state = reactive({\n    is_online: currentDraftedOrder.value.is_online,\n    at_customer: currentDraftedOrder.value.at_customer,\n    at_executor: currentDraftedOrder.value.at_executor,\n});\n\nconst rules = {\n    is_online: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => !state.at_customer || !state.at_executor)\n        ),\n    },\n    at_executor: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => state.at_customer || state.is_online)\n        ),\n    },\n    at_customer: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => state.is_online || state.at_executor)\n        ),\n    },\n};\nconst $externalResults = reactive({\n    is_online: null,\n    at_customer: null,\n    at_executor: null,\n});\nconst v = useVuelidate(rules, state, { $externalResults });\n\nconst onSubmit = async () => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n    if (!!!currentDraftedOrder.value)\n        await onCreateOrder({\n            category: categorySlug.value,\n            services: serviceSlugs.value,\n            is_online: state.is_online,\n            at_customer: state.at_customer,\n            at_executor: state.at_executor,\n        });\n    else\n        await onUpdateOrder({\n            is_online: state.is_online,\n            at_customer: state.at_customer,\n            at_executor: state.at_executor,\n        });\n\n    if (state.at_customer) {\n        router.push({\n            name: \"order.update\",\n            params: {\n                categorySlug: categorySlug.value,\n                serviceSlugs: serviceSlugs.value,\n                form: \"address\",\n            },\n        });\n        return;\n    }\n\n    // if (state.at_executor) {\n    //     router.push({\n    //         name: \"order.update\",\n    //         params: {\n    //             categorySlug: categorySlug.value,\n    //             serviceSlugs: serviceSlugs.value,\n    //             form: \"exit_locations\",\n    //         },\n    //     });\n    //     return;\n    // }\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"time\",\n        },\n    });\n};\n\nconst back = () => router.back();\n</script>\n\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>\n                {{\n                    category.id == 1\n                        ? \"Выберите место проведения занятий\"\n                        : \"Выберите место проведения работы\"\n                }}\n            </h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <ul>\n            <li>\n                <c-checkbox v-model=\"state.at_executor\">У исполнителя</c-checkbox>\n            </li>\n            <li>\n                <c-checkbox v-model=\"state.at_customer\">У заказчика</c-checkbox>\n            </li>\n            <li>\n                <c-checkbox v-model=\"state.is_online\">Дистанционно</c-checkbox>\n            </li>\n        </ul>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_customer.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.is_online.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_executor.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n","import script from \"./work-place-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./work-place-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["categorySlug","serviceSlugs","toRefs","props","router","useRouter","category","onGetWhenNotLoaded","isLoading","categoryIsLoading","useCategoryApi","onMounted","async","value","currentDraftedOrder","isUpdating","orderIsUpdating","onUpdate","onUpdateOrder","useUpdateOrderApi","mapSettings","apiKey","lang","coordorder","enterprise","version","back","loadYmap","onClickInMap","e","get","placemark","address","ref","searchedItems","lat","lng","map","onSelectItem","item","geometry","getCoordinates","getAddressLine","console","log","Array","from","setCenter","duration","watch","debounce","ymaps","geocode","geoObjects","toArray","$externalResults","reactive","v","useVuelidate","required","helpers","onSubmit","$validate","catch","response","status","error","data","type","fields","push","name","params","form","__exports__","class","_createElementVNode","_hoisted_2","_hoisted_6","_createBlock","_component_BaseForm","onOnSubmit","_ctx","header","_createElementBlock","_hoisted_3","_toDisplayString","id","_hoisted_7","footer","_createVNode","_component_c_button","scheme","onClick","at_executor","$event","at_customer","is_online","_Fragment","_renderList","$errors","key","$uid","message","script","render","onGetCategoryWhenNotLoaded","description","minLength","Error","computed","minPrice","price_min","maxPrice","price_max","rules","requiredIf","is_ranged_price","onPublish","isPublishing","isPublished","usePublishOrderApi","dir","onRegister","isRegistering","isRegistered","useRegister","registerState","surname","patronymic","username","email","password","passwordConfirmation","ProfileType","registerExternalResults","registerRules","sameAsPassword","sameAs","toRef","in","or","registerValidator","registerErrorMessage","onRegisterHandler","Object","assign","onLogin","isLogining","profile","isLogined","useLogin","loginState","loginExternalResults","loginRules","loginValidator","loginErrorMessage","onLoginHandler","isLoginForm","fullname","service","isCreating","isCreated","promise","useCreateServiceApi","onCreate","parent","create","then","readonly","finally","isLoaded","categoryIsLoaded","services","servicesIsLoading","servicesIsLoaded","onGet","onGetServices","useServicesApi","perPage","length","isExpanded","s","find","ss","sss","slug","computedServices","index","findIndex","slice","orderIsCreating","serviceIsLoading","newEntry","newEntryField","requiredUnless","requiredif","onCreateService","serviceIsCreating","onCreateOrder","useCreateOrderApi","fetchedService","onGetService","useServiceApi","newService","count","servicesList","children_count","location","href","values","element","isArray","join","started_at","ended_at","startedAt","Date","toISOString","endedAt","minValue","minValueRef","replace","state"],"sourceRoot":""}