{"version":3,"file":"js/group-order-forms-legacy.0dc0bb43.js","mappings":"m0BAeA,GAAuCA,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAEhBC,GAASC,EAAAA,EAAAA,MAEf,GAIIC,EAAAA,EAAAA,KAHAC,EADJ,EACIA,SACAC,EAFJ,EAEIA,mBACWC,EAHf,EAGIC,WAGJC,EAAAA,EAAAA,KAAS,uBAAC,oGACAH,EAAmBN,EAAaU,OADhC,4CAGV,OAIIC,EAAAA,EAAAA,IAAkBX,EAAaU,OAH/BE,EADJ,EACIA,oBAEUC,GAHd,EAEIC,WAFJ,EAGIC,UAGEC,EAAc,CAChBC,OAAQ,uCACRC,KAAM,QACNC,WAAY,UACZC,YAAY,EACZC,QAAS,OAEPC,EAAO,WACTpB,EAAOoB,MACV,GACDb,EAAAA,EAAAA,KAAS,uBAAC,qGACAc,EAAAA,EAAAA,MADA,4CAIV,IAAMC,EAAe,SAACC,GACL,MAATA,EAAEC,MAGNC,EAAUjB,MAAQe,EAAEC,IAAI,UAC3B,EACKE,GAAUC,EAAAA,EAAAA,IAAIjB,EAAoBF,MAAMkB,SACxCE,GAAgBD,EAAAA,EAAAA,IAAI,IACpBF,GAAYE,EAAAA,EAAAA,IACdjB,EAAoBF,MAAMqB,KAAOnB,EAAoBF,MAAMsB,IACrD,CAACpB,EAAoBF,MAAMqB,IAAKnB,EAAoBF,MAAMsB,KAC1D,IAEJC,GAAMJ,EAAAA,EAAAA,MACNK,EAAe,SAACC,GAClBR,EAAUjB,MAAQyB,EAAKC,SAASC,iBAChCT,EAAQlB,MAAQyB,EAAKG,iBACrBC,QAAQC,IAAIC,MAAMC,KAAKf,EAAUjB,QACjCuB,EAAIvB,MAAMiC,UAAUF,MAAMC,KAAKf,EAAUjB,OAAQ,GAAI,CAAEkC,SAAU,KACpE,GACDC,EAAAA,EAAAA,IACIlB,EACAmB,KAAQ,uBACJ,oGAEcC,MAAMC,QAAQP,MAAMC,KAAKf,EAAUjB,QAFjD,gCACKkB,EAAQlB,MADb,OAGMuC,WACGvB,IAAI,GACJY,kBALT,2CAMA,OAGRO,EAAAA,EAAAA,IAAMjB,GAAD,uBAAU,oGAEDmB,MAAMC,QAAQpB,EAAQlB,OAFrB,OACXoB,EAAcpB,MADH,OAGTuC,WAAWC,UAHF,4CAMf,IAAMC,GAAmBC,EAAAA,EAAAA,IAAS,CAAC,GAE7BC,GAAIC,EAAAA,EAAAA,IACN,CACI1B,QAAS,CACL2B,SAAUC,EAAAA,GAAAA,YAAoB,qBAAsBD,EAAAA,KAExD5B,UAAW,IAIf,CAAEC,QAAAA,EAASD,UAAAA,GACX,CAAEwB,iBAAAA,IAGAM,EAAQ,yCAAG,WAAOhC,GAAP,uFACD4B,EAAE3C,MAAMgD,YADP,kFAKP7C,EAAc,CAChBe,QAASA,EAAQlB,MACjBqB,IAAKJ,EAAUjB,MAAM,GACrBsB,IAAKL,EAAUjB,MAAM,KACtBiD,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SACR,GAAuB,KAAnBA,EAASC,OAAe,CACxB,IAAQC,EAAUF,EAASG,KAAnBD,MACU,cAAdA,EAAME,OACNb,EAAiBvB,QAAUkC,EAAMG,OAAOrC,SAAW,GACnDuB,EAAiBxB,UACbmC,EAAMG,OAAOlC,KAAO+B,EAAMG,OAAOjC,KAAO,GAEnD,CACJ,IAlBY,OAoBb9B,EAAOgE,KAAK,CACRC,KAAM,eACNC,OAAQ,CACJpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,UAzBD,2CAAH,sD,8mDClGd,MAAMC,EAAc,EAEpB,O,kHCAiBC,MAAM,iB,GACPC,EAAAA,EAAAA,GAEO,OADHD,MAAM,mDAAiD,S,GAD3DE,G,SAIAF,MAAM,yB,SAOoBA,MAAM,sB,GAChCC,EAAAA,EAAAA,GAEO,OADHD,MAAM,mDAAiD,S,GAD3DG,G,GAIDH,MAAM,mB,GAIEA,MAAM,e,WAC4C,mB,GAKlDA,MAAM,e,WAC4C,iB,GAKlDA,MAAM,e,WAC0C,kB,WA2BF,W,WAG/C,gB,oFAlElBI,EAAAA,EAAAA,IAoEWC,EAAA,CApEAC,WAAWC,EAAAA,UAAQ,CACfC,QAAM,SACb,iBAIM,CAJ2BD,EAAAA,oBAAAA,EAAAA,EAAAA,OAAjCE,EAAAA,EAAAA,IAIM,MAJN,EAIMC,MAJN,WAKAD,EAAAA,EAAAA,IAMK,KANL,GAMKE,EAAAA,EAAAA,IAJc,GAAXJ,EAAAA,SAASK,GAAT,wEAFR,IAOWL,EAAAA,oBAAAA,EAAAA,EAAAA,OAAXE,EAAAA,EAAAA,IAIM,MAJN,EAIMI,KAJN,gBAKAZ,EAAAA,EAAAA,GAAkD,IAAlD,GAAkDU,EAAAA,EAAAA,IAApBJ,EAAAA,SAASX,MAAI,GAjB3C,IA4DOkB,QAAM,SACb,iBAEW,EAFXC,EAAAA,EAAAA,IAEWC,EAAA,CAFDC,OAAO,YAAYxB,KAAK,SAAUyB,QAAOX,EAAAA,MAAnD,C,kBAAyD,iBAEzD,GAFyD,I,KAAzD,gBAGAQ,EAAAA,EAAAA,IAAiCC,EAAA,M,kBAAvB,iBAAY,GAAZ,I,MAHV,I,kBA1CJ,iBAmBK,EAnBLf,EAAAA,EAAAA,GAmBK,YAlBDA,EAAAA,EAAAA,GAKK,YAJDA,EAAAA,EAAAA,GAGQ,QAHR,EAGQ,WAFJA,EAAAA,EAAAA,GAAqD,S,qDAArCM,EAAAA,MAAMY,YAAWC,C,GAAE3B,KAAK,YAAxC,iBAAgBc,EAAAA,MAAMY,eAElB,OAEZlB,EAAAA,EAAAA,GAKK,YAJDA,EAAAA,EAAAA,GAGQ,QAHR,EAGQ,WAFJA,EAAAA,EAAAA,GAAqD,S,qDAArCM,EAAAA,MAAMc,YAAWD,C,GAAE3B,KAAK,YAAxC,iBAAgBc,EAAAA,MAAMc,eAElB,OAEZpB,EAAAA,EAAAA,GAKK,YAJDA,EAAAA,EAAAA,GAGQ,QAHR,EAGQ,WAFJA,EAAAA,EAAAA,GAAmD,S,qDAAnCM,EAAAA,MAAMe,UAASF,C,GAAE3B,KAAK,YAAtC,iBAAgBc,EAAAA,MAAMe,aAElB,UAEX,aACLb,EAAAA,EAAAA,IAMMc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJcjB,EAAAA,EAAEc,YAAYI,SAAO,SAA9BlC,G,kBAFXkB,EAAAA,EAAAA,IAMM,OALFT,MAAM,eAEL0B,IAAKnC,EAAMoC,OAHhB,QAKOpB,EAAAA,OAAOqB,SAAO,E,IALrB,QADK,aAQLnB,EAAAA,EAAAA,IAMMc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJcjB,EAAAA,EAAEe,UAAUG,SAAO,SAA5BlC,G,kBAFXkB,EAAAA,EAAAA,IAMM,OALFT,MAAM,eAEL0B,IAAKnC,EAAMoC,OAHhB,QAKOpB,EAAAA,OAAOqB,SAAO,E,IALrB,QARK,aAeLnB,EAAAA,EAAAA,IAMMc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJcjB,EAAAA,EAAEY,YAAYM,SAAO,SAA9BlC,G,kBAFXkB,EAAAA,EAAAA,IAMM,OALFT,MAAM,eAEL0B,IAAKnC,EAAMoC,OAHhB,QAKOpB,EAAAA,OAAOqB,SAAO,E,IALrB,MAlCA,I,KArBJ,iB,gBCFJ,MAAMC,EAAS,CAAC,EAGV9B,GAA2B,OAAgB8B,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,4oBCSA,GAAuCvG,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAEhBC,GAASC,EAAAA,EAAAA,MAETmB,EAAO,WACXpB,EAAOoB,MACR,EACD,GAIIlB,EAAAA,EAAAA,KAHFC,EADF,EACEA,SACoBiG,EAFtB,EAEEhG,mBACWC,EAHb,EAGEC,WAGFC,EAAAA,EAAAA,KAAS,uBAAC,oGACF6F,EAA2BtG,EAAaU,OADtC,4CAIV,OAIIC,EAAAA,EAAAA,IAAkBX,EAAaU,OAHjCE,EADF,EACEA,oBACUC,EAFZ,EAEEE,SACYwF,EAHd,EAGEzF,WAGI0F,GAAc3E,EAAAA,EAAAA,KAAuB,OAAnBjB,QAAmB,IAAnBA,GAAA,UAAAA,EAAqBF,aAArB,eAA4B8F,cAAe,IAE7DrD,GAAmBC,EAAAA,EAAAA,IAAS,CAChCoD,YAAa,KAGTnD,GAAIC,EAAAA,EAAAA,IACR,CACEkD,YAAa,CACXC,UAAWjD,EAAAA,GAAAA,YACT,uCACAiD,EAAAA,EAAAA,IAAU,MAIhB,CACED,YAAAA,GAEF,CAAErD,iBAAAA,IAEEM,EAAQ,yCAAG,WAAOhC,GAAP,uFACH4B,EAAE3C,MAAMgD,YADL,kFAKT7C,EAAc,CAClB2F,YAAaA,EAAY9F,QACxBiD,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SACV,SAAkBA,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUG,KAApBD,EAAR,EAAQA,MAKR,KAJmB,eAAV,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOE,QACTb,EAAiBqD,YAAc1C,EAAMG,OAAOuC,aAAe,IAGvD,IAAIE,MAAM5C,EACjB,IAdc,OAgBf5D,EAAOgE,KAAK,CACVC,KAAM,eACNC,OAAQ,CACNpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,aArBK,2CAAH,sDA0BR7D,GAAYmG,EAAAA,EAAAA,KAChB,kBAAMJ,EAAgB7F,OAASH,EAAkBG,KAAjD,I,6uDClFF,MAAM4D,EAAc,EAEpB,O,q/BCcC,GAAuCxE,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAEhBC,GAASC,EAAAA,EAAAA,MAEf,GAIIC,EAAAA,EAAAA,KAHHC,EADD,EACCA,SACoBiG,EAFrB,EAEChG,mBACWC,EAHZ,EAGCC,WAGDC,EAAAA,EAAAA,KAAS,uBAAC,oGACH6F,EAA2BtG,EAAaU,OADrC,4CAIV,IAAMY,EAAO,WACZpB,EAAOoB,MACP,EAED,GAIIX,EAAAA,EAAAA,IAAkBX,EAAaU,OAHlCE,EADD,EACCA,oBAEUC,GAHX,EAECC,WAFD,EAGCC,UAGK6F,GAAW/E,EAAAA,EAAAA,KAAI,UAAAjB,EAAoBF,aAApB,eAA2BmG,YAAa,IACvDC,GAAWjF,EAAAA,EAAAA,KAAI,UAAAjB,EAAoBF,aAApB,eAA2BqG,YAAa,IACvD5D,GAAmBC,EAAAA,EAAAA,IAAS,CACjCwD,SAAU,GACVE,SAAU,MAGXjE,EAAAA,EAAAA,IAAM+D,GAAU,WACfzD,EAAiByD,SAAW,EAC5B,KAED/D,EAAAA,EAAAA,IAAMiE,GAAU,WACf3D,EAAiB2D,SAAW,EAC5B,IAED,IAAME,EAAQ,CACbJ,SAAU,CACTK,WAAYzD,EAAAA,GAAAA,YAAoB,IAAIyD,EAAAA,EAAAA,KAAW,KAEhDH,SAAU,CACTvD,SAAUC,EAAAA,GAAAA,YAAoB,4BAA6BD,EAAAA,MAIvDF,GAAIC,EAAAA,EAAAA,IAAa0D,EAAO,CAAEJ,SAAAA,EAAUE,SAAAA,GAAY,CAAE3D,iBAAAA,IAElDM,EAAQ,yCAAG,WAAOhC,GAAP,uFACJ4B,EAAE3C,MAAMgD,YADJ,kFAKV7C,EAAc,CACnBgG,UAAWD,EAASlG,OAAS,EAC7BqG,UAAWD,EAASpG,MACpBwG,iBAAiB,IACfvD,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SACX,SAAkBA,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUG,KAApBD,EAAR,EAAQA,MAMR,KALmB,eAAV,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOE,QACVb,EAAiByD,SAAW9C,EAAMG,OAAO4C,WAAa,GACtD1D,EAAiB2D,SAAWhD,EAAMG,OAAO8C,WAAa,IAGjD,IAAIL,MAAM5C,EAChB,IAjBe,OAkBhB5D,EAAOgE,KAAK,CACXC,KAAM,eACNC,OAAQ,CACPpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,WAvBQ,2CAAH,sD,unDClEf,MAAMC,EAAc,EAEpB,O,ywDCiBC,IAAuCxE,EAAAA,EAAAA,IAAOC,GAAtCC,GAAR,GAAQA,aACR,IADA,GAAsBC,cAKlBG,EAAAA,EAAAA,MAHiBkG,GADrB,GACChG,mBACWC,GAFZ,GAECC,UACAH,GAHD,GAGCA,UAGDI,EAAAA,EAAAA,KAAS,uBAAC,oGACH6F,GAA2BtG,GAAaU,OADrC,4CAIV,IAAMR,IAASC,EAAAA,EAAAA,MACf,IACCgH,EAAAA,EAAAA,GAAmBnH,GAAaU,OADzB0G,GAAR,GAAQA,UAAWC,GAAnB,GAAmBA,aAGb5D,IAHN,GAAiC6D,YAAjC,GAA8C1G,oBAGhC,yCAAG,oGACVwG,KAAYzD,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SAC1BrB,QAAQgF,IAAI3D,EACZ,IAHe,OAIhB1D,GAAOgE,KAAK,KAJI,2CAAH,sDAOd,IAAoDsD,EAAAA,EAAAA,MAA5CC,GAAR,GAAQA,WAAYC,GAApB,GAAoBA,cAAeC,GAAnC,GAAmCA,aAE7BC,IAAgBxE,EAAAA,EAAAA,IAAS,CAC9Be,KAAM,GACN0D,QAAS,GACTC,WAAY,GACZC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,qBAAsB,GACtBlE,KAAMmE,EAAAA,GAAAA,YAGPtF,EAAAA,EAAAA,KACC,kBAAM+E,GAAczD,IAApB,IACA,WACCiE,GAAwBjE,KAAO,EAC/B,KAEFtB,EAAAA,EAAAA,KACC,kBAAM+E,GAAcC,OAApB,IACA,WACCO,GAAwBP,QAAU,EAClC,KAEFhF,EAAAA,EAAAA,KACC,kBAAM+E,GAAcE,UAApB,IACA,WACCM,GAAwBN,WAAa,EACrC,KAEFjF,EAAAA,EAAAA,KACC,kBAAM+E,GAAcG,QAApB,IACA,WACCK,GAAwBL,SAAW,EACnC,KAEFlF,EAAAA,EAAAA,KACC,kBAAM+E,GAAcI,KAApB,IACA,WACCI,GAAwBJ,MAAQ,EAChC,KAEFnF,EAAAA,EAAAA,KACC,kBAAM+E,GAAcK,QAApB,IACA,WACCG,GAAwBH,SAAW,EACnC,KAEFpF,EAAAA,EAAAA,KACC,kBAAM+E,GAAcM,oBAApB,IACA,WACCE,GAAwBF,qBAAuB,EAC/C,IAEF,IAAMG,GAAgB,CACrBlE,KAAM,CACLZ,SAAUC,EAAAA,GAAAA,YAAoB,cAAeD,EAAAA,KAE9CsE,QAAS,CACRtE,SAAUC,EAAAA,GAAAA,YAAoB,kBAAmBD,EAAAA,KAElDuE,WAAY,CACXb,YAAYA,EAAAA,EAAAA,KAAW,IAExBc,SAAU,CACTxE,SAAUC,EAAAA,GAAAA,YAAoB,yBAA0BD,EAAAA,KAEzDyE,MAAO,CACNzE,SAAUC,EAAAA,GAAAA,YAAoB,gBAAiBD,EAAAA,IAC/CyE,MAAOxE,EAAAA,GAAAA,YAAoB,2BAA4BwE,EAAAA,KAExDC,SAAU,CACT1E,SAAUC,EAAAA,GAAAA,YAAoB,iBAAkBD,EAAAA,KAEjD2E,qBAAsB,CACrBI,eAAgB9E,EAAAA,GAAAA,YACf,+CACA+E,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAMZ,GAAe,eAG9B5D,KAAM,CACLT,SAAUC,EAAAA,GAAAA,YAAoB,2BAA4BD,EAAAA,IAC1DkF,GAAIjF,EAAAA,GAAAA,YACH,mEACAkF,EAAAA,EAAAA,KAAGH,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,WAAuBI,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,cAKrCC,IAA0BhF,EAAAA,EAAAA,IAAS,CACxCe,KAAM,GACN0D,QAAS,GACTC,WAAY,GACZC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,qBAAsB,KAGjBS,IAAoBrF,EAAAA,EAAAA,IAAa+E,GAAeT,GAAe,CACpEzE,iBAAkBiF,KAEbQ,IAAuB/G,EAAAA,EAAAA,MACvBgH,GAAiB,yCAAG,oGACbF,GAAkBjI,MAAMgD,YADX,kEAGzB+D,GAAWG,IAAejE,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SAClC,EAAkCA,EAASG,KAAKD,MAAxCE,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAAQkC,EAAtB,EAAsBA,QAEV,cAARnC,GACH8E,OAAOC,OAAOX,GAAyBnE,GAG5B,QAARD,IACH4E,GAAqBlI,MAAQyF,EAE9B,IAbwB,2CAAH,qDAgBvB,IAAoD6C,EAAAA,EAAAA,MAA5CC,GAAR,GAAQA,QAASC,GAAjB,GAAiBA,WAAYC,GAA7B,GAA6BA,QAASC,GAAtC,GAAsCA,UAEhCC,IAAajG,EAAAA,EAAAA,IAAS,CAC3B2E,SAAU,GACVE,SAAU,GACVjE,KAAMmE,EAAAA,GAAAA,YAGPtF,EAAAA,EAAAA,KACC,kBAAMwG,GAAWtB,QAAjB,IACA,WACCuB,GAAqBvB,SAAW,EAChC,KAEFlF,EAAAA,EAAAA,KACC,kBAAMwG,GAAWpB,QAAjB,IACA,WACCqB,GAAqBrB,SAAW,EAChC,KAEFpF,EAAAA,EAAAA,KACC,kBAAMwG,GAAWrF,IAAjB,IACA,WACCsF,GAAqBtF,KAAO,EAC5B,IAGF,IAAMuF,IAAanG,EAAAA,EAAAA,IAAS,CAC3B2E,SAAU,CACTxE,SAAUC,EAAAA,GAAAA,YAAoB,yBAA0BD,EAAAA,KAEzD0E,SAAU,CACT1E,SAAUC,EAAAA,GAAAA,YAAoB,yBAA0BD,EAAAA,KAEzDS,KAAM,CACLyE,GAAIjF,EAAAA,GAAAA,YACH,mEACAkF,EAAAA,EAAAA,KAAGH,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,WAAuBI,EAAAA,EAAAA,IAAOJ,EAAAA,GAAAA,eAIrCmB,IAAuBlG,EAAAA,EAAAA,IAAS,CACrC2E,SAAU,GACVE,SAAU,GACVjE,KAAM,KAEDwF,IAAiBlG,EAAAA,EAAAA,IAAaiG,GAAYF,GAAY,CAC3DlG,iBAAkBmG,KAEbG,IAAoB5H,EAAAA,EAAAA,MACpB6H,GAAc,yCAAG,oGACVF,GAAe9I,MAAMgD,YADX,kEAEtBuF,GAAQI,IAAY1F,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SAC5B,EAAkCA,EAASG,KAAKD,MAAxCE,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAAQkC,EAAtB,EAAsBA,QACV,cAARnC,GACH8E,OAAOC,OAAOO,GAAsBrF,GAEzB,QAARD,IACHyF,GAAkB/I,MAAQyF,EAE3B,IAVqB,2CAAH,qDAad7E,GAAO,WACZpB,GAAOoB,MACP,EAEKqI,IAAc9H,EAAAA,EAAAA,KAAI,GAElB+H,IAAW/H,EAAAA,EAAAA,IAAI,GAAD,cAChBsH,SADgB,IAChBA,IADgB,UAChBA,GAASzI,aADO,aAChB,EAAgByD,KADA,mBACQgF,SADR,IACQA,IADR,UACQA,GAASzI,aADjB,aACQ,EAAgBmH,QADxB,mBACmCsB,SADnC,IACmCA,IADnC,UACmCA,GAASzI,aAD5C,aACmC,EAAgBoH,a,y4MCvOxE,MAAMxD,GAAc,GAEpB,S,4QCDMuF,GAAUzG,EAAAA,EAAAA,IAAS,CAAC,GAGpB0G,GAAajI,EAAAA,EAAAA,KAAI,GACjBkI,GAAYlI,EAAAA,EAAAA,KAAI,GAChBmI,GAAUnI,EAAAA,EAAAA,IAAI,MAGL,SAASoI,IAEpB,IAAMC,EAAW,WAAwD,IAAvDnG,EAAuD,uDAAhD,CAAEI,KAAM,GAAIgG,OAAQ,KAAM9J,SAAU,MAUzD,OATAyJ,EAAWpJ,OAAQ,EACnBqJ,EAAUrJ,OAAQ,EAClBsJ,EAAQtJ,OAAQ0J,EAAAA,EAAAA,IAAOrG,GAClBsG,MAAK,SAAAzG,GAAQ,OAAIA,EAASG,IAAb,IACbsG,MAAK,SAAAtG,GAGF,OAFA+E,OAAOC,OAAOc,EAAS9F,EAAK8F,SAC5BE,EAAUrJ,OAAQ,GACX4J,EAAAA,EAAAA,IAAST,EACnB,IAAEU,SAAQ,kBAAMT,EAAWpJ,OAAQ,CAAzB,IACRsJ,EAAQtJ,KAClB,EAED,MAAO,CACHoJ,YAAYQ,EAAAA,EAAAA,IAASR,GACrBC,WAAWO,EAAAA,EAAAA,IAASP,GACpBC,SAASM,EAAAA,EAAAA,IAASN,GAClBE,SAAAA,EAEP,C,gqCCVA,GAAuCpK,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAChBC,GAASC,EAAAA,EAAAA,MAEf,GAKIC,EAAAA,EAAAA,KAJHE,EADD,EACCA,mBACAD,EAFD,EAECA,SACWE,EAHZ,EAGCC,UAHD,EAICgK,UAGD/J,EAAAA,EAAAA,KAAS,uBAAC,oGACHH,EAAmBN,EAAaU,OAD7B,4CAIV,OAKI+J,EAAAA,EAAAA,GAAe,CAClBC,QAAS,IACTrK,SAAUL,EAAaU,MACvByJ,OAAM,UAAElK,EAAaS,aAAf,aAAE,GAAqB,UAAAT,EAAaS,aAAb,eAAoBiK,QAAS,KAP1DC,EADD,EACCA,SACWC,EAFZ,EAECrK,UAEOsK,GAJR,EAGCN,SAHD,EAICO,OAMKC,GAAanJ,EAAAA,EAAAA,KAAI,IACvBpB,EAAAA,EAAAA,KAAS,uBAAC,0GACHqK,EAAc,CAAC,GADZ,UAELF,EAASlK,MAAMiK,OAAS,IAC3BK,EAAWtK,OAAQ,GAEbE,GAAoBF,MALlB,iDAMHuK,EAAIrK,GAAoBF,MAAMkK,SAASM,MAAK,SAACC,GAAD,OACjDP,EAASlK,MAAMwK,MAAK,SAACE,GAAD,OAASA,EAAIC,MAAQF,EAAGE,IAAxB,GAD6B,IAGlDxB,EAAQnJ,MAAR,OAAgBuK,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAGI,KATV,4CAmBV,IAAM/J,EAAO,WACZpB,EAAOoB,MACP,EACKgK,GAAmB3E,EAAAA,EAAAA,KAAS,WAAM,QACvC,GAAIqE,EAAWtK,MACd,OAAOkK,EAASlK,MAEjB,IAAM6K,GACL,UAAAX,EAASlK,aAAT,eAAgB8K,WAAU,SAACP,GAAD,yBACzBrK,GAAoBF,aADK,iBACzB,EAA2BkK,gBADF,aACzB,EAAqCM,MAAK,SAACC,GAAD,OAAQA,EAAGE,MAAQJ,EAAEI,IAArB,GADjB,KAEtB,EACL,iBAAOT,EAASlK,aAAhB,aAAO,EAAgB+K,MAAM,EAAGF,EAAQ,EAAIA,EAAQ,EACpD,IAEK/K,GAAYmG,EAAAA,EAAAA,KACjB,kBACCpG,EAAkBG,OAClBmK,EAAkBnK,OAClB6F,GAAgB7F,OAChBgL,GAAgBhL,OAChBiL,GAAiBjL,KALlB,IAQKmJ,GAAUhI,EAAAA,EAAAA,MACV+J,GAAW/J,EAAAA,EAAAA,KAAI,GACfgK,GAAgBhK,EAAAA,EAAAA,IAAI,KAC1BgB,EAAAA,EAAAA,IAAMgH,GAAS,SAACnJ,GACF,MAATA,IAAekL,EAASlL,OAAQ,GACpCyC,GAAiB0G,QAAU,IAC3B,KACDhH,EAAAA,EAAAA,IAAM+I,GAAU,SAAClL,GACVA,IAAOmJ,EAAQnJ,MAAQ,MAC7ByC,GAAiB0I,cAAgB,IACjC,KAEDhJ,EAAAA,EAAAA,IAAMgJ,GAAe,WACpB1I,GAAiB0I,cAAgB,IACjC,IAED,IAAM1I,IAAmBC,EAAAA,EAAAA,IAAS,CAAC,GAC7B4D,GAAQ,CACb6C,QAAS,CACRiC,eAAgBtI,EAAAA,GAAAA,YACf,mBACAsI,EAAAA,EAAAA,IAAeF,KAGjBA,SAAU,CAAC,EACXC,cAAe,CACdE,WAAYvI,EAAAA,GAAAA,YACX,yBACAyD,EAAAA,EAAAA,IAAW2E,MAKRvI,IAAIC,EAAAA,EAAAA,IACT0D,GACA,CAAE6C,QAAAA,EAAS+B,SAAAA,EAAUC,cAAAA,GACrB,CAAE1I,iBAAAA,KAGH,GACC8G,IADiB+B,GAAlB,GAAQ9B,SAGR,IAHA,GAAmCJ,YAO/BnJ,EAAAA,EAAAA,IAAkBX,EAAaU,QAHxBG,GADX,GACCE,SACYwF,GAFb,GAECzF,WACAF,GAHD,GAGCA,oBAGD,IACCqL,EAAAA,EAAAA,IAAkBjM,EAAaU,OADdwL,GAAlB,GAAQhC,SAAqCwB,GAA7C,GAAiC5B,WAGjC,IAIIqC,EAAAA,EAAAA,KAHMC,GADV,GACCvC,QACOwC,GAFR,GAECtB,MACWY,GAHZ,GAGCnL,UAGKiD,GAAQ,yCAAG,WAAOhC,GAAP,uGACJ4B,GAAE3C,MAAMgD,YADJ,sEAKZkI,EAASlL,MALG,iCAMIsL,GAAgB,CAClC7H,KAAM0H,EAAcnL,MACpByJ,OAAM,UAAElK,EAAaS,aAAf,aAAE,GAAqB,UAAAT,EAAaS,aAAb,eAAoBiK,QAAS,GAC1DtK,SAAUL,EAAaU,QACrBiD,OAAM,YAAkB,MAAfC,EAAe,EAAfA,SACX,GAAuB,KAAnBA,EAASC,OAAb,CAIA,gBAAyBD,EAASG,YAAlC,aAAyB,EAAeD,MAAhCE,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAEF,cAARD,IACHb,GAAiB0I,cAAgB5H,EAAOE,KALxC,CAOD,IApBc,UAMfmI,EANe,OAqBT,UAACA,SAAD,OAAC,EAAYnH,GArBJ,mDAsBf5C,QAAQC,IAAI8J,GAtBG,yCAwBTD,GAAaxC,EAAQnJ,MAAO,CAAE6L,MAAO,CAAC,cAxB7B,WA2BVC,EAAevM,EAAaS,OAAS,GACvCmJ,EAAQnJ,MACX8L,EAAatI,KAAK2F,EAAQnJ,OAE1B8L,EAAatI,KAAKoI,EAAWjB,MAGvBzK,GAAoBF,MAlCX,kCAmCTwL,GAAc,CACnB7L,SAAUL,EAAaU,MACvBkK,SAAU4B,IArCI,iDAwCT3L,GAAc,CACnB+J,SAAU4B,IAzCI,SA4CE,OAAdJ,SAAc,IAAdA,IAAA,UAAAA,GAAgB1L,aAAhB,eAAuB+L,gBAAiB,EAC3CC,SAASC,KACR,IACA7D,OAAO8D,OAAO,CACb5M,aAAcA,EAAaU,MAC3BT,aAAcuM,EACdnI,KAAM,WAELpC,KAAI,SAAC4K,GAAD,OACJpK,MAAMqK,QAAQD,GAAWA,EAAQE,KAAK,KAAOF,CADzC,IAGJE,KAAK,KAER7M,EAAOgE,KAAK,CACXC,KAAM,eACNC,OAAQ,CACPpE,aAAcA,EAAaU,MAC3BT,aAAcuM,EACdnI,KAAM,gBA9DO,4CAAH,sD,m1FChJf,MAAMC,EAAc,EAEpB,O,ykCCUA,GAAuCxE,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aAEhBC,GAASC,EAAAA,EAAAA,MAETmB,EAAO,WACTpB,EAAOoB,MACV,EACD,GAIIlB,EAAAA,EAAAA,KAHAC,EADJ,EACIA,SACoBiG,EAFxB,EAEIhG,mBACWC,EAHf,EAGIC,WAGJC,EAAAA,EAAAA,KAAS,uBAAC,oGACA6F,EAA2BtG,EAAaU,OADxC,4CAIV,OAAyDC,EAAAA,EAAAA,IACrDX,EAAaU,OADTE,EAAR,EAAQA,oBAA+BC,EAAvC,EAA6BE,SAI7B,GAAoD,OAAnBH,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBF,QAAS,CAAC,EAAxDsM,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,SACdC,GAAYrL,EAAAA,EAAAA,IAAImL,EAAa,IAAIG,KAAKH,GAAYI,cAAc3B,MAAM,GAAI,GAAK,MAC/E4B,GAAUxL,EAAAA,EAAAA,IAAIoL,EAAW,IAAIE,KAAKF,GAAUG,cAAc3B,MAAM,GAAI,GAAK,MACzEtI,GAAmBC,EAAAA,EAAAA,IAAS,CAC9B8J,UAAW,GACXG,QAAS,KAGPhK,GAAIC,EAAAA,EAAAA,IACN,CACI4J,UAAW,CACP3J,SAAUC,EAAAA,GAAAA,YAAoB,eAAgBD,EAAAA,IAC9C+J,SAAU9J,EAAAA,GAAAA,YACN,2CACA,SAAC9C,GACG,OAAO,IAAIyM,KAAKzM,GAAS,IAAIyM,IAChC,KAGTE,QAAS,CACL9J,SAAUC,EAAAA,GAAAA,YAAoB,eAAgBD,EAAAA,IAC9CgK,YAAa/J,EAAAA,GAAAA,YACT,sDACA,SAAC9C,GACG,OAAO,IAAIyM,KAAKzM,GAAS,IAAIyM,KAAKD,EAAUxM,MAC/C,MAIb,CACIwM,UAAAA,EACAG,QAAAA,GAEJ,CAAElK,iBAAAA,IAEAM,EAAQ,yCAAG,WAAOhC,GAAP,uFACD4B,EAAE3C,MAAMgD,YADP,kFAKP7C,EAAc,CAChBmM,WAAY,IAAIG,KAAKD,EAAUxM,OAC1B0M,cACA3B,MAAM,GAAI,GACV+B,QAAQ,IAAK,KAClBP,SAAU,IAAIE,KAAKE,EAAQ3M,OACtB0M,cACA3B,MAAM,GAAI,GACV+B,QAAQ,IAAK,OACnB7J,OAAM,YAAkB,IAAfC,EAAe,EAAfA,SACR,SAAkBA,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAUG,KAApBD,EAAR,EAAQA,MACW,eAAV,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOE,QACPb,EAAiB+J,UAAYpJ,EAAMG,OAAO+I,YAAc,GACxD7J,EAAiBkK,QAAUvJ,EAAMG,OAAOgJ,UAAY,GAE3D,IApBY,OAsBb/M,EAAOgE,KAAK,CACRC,KAAM,eACNC,OAAQ,CACJpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,WA3BD,2CAAH,sD,0sDCpEd,MAAMC,EAAc,EAEpB,O,qtBCUA,GAAuCxE,EAAAA,EAAAA,IAAOC,GAAtCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,aACtB,GAIIG,EAAAA,EAAAA,KAHAC,EADJ,EACIA,SACWE,EAFf,EAEIC,UACAF,EAHJ,EAGIA,oBAGJG,EAAAA,EAAAA,KAAU,WACNH,EAAmBN,EAAaU,MACnC,IAED,OAIIC,EAAAA,EAAAA,IAAkBX,EAAaU,OAH/BE,EADJ,EACIA,oBAEUC,GAHd,EAEIC,WAFJ,EAGIC,UAGJ,GACIkL,EAAAA,EAAAA,IAAkBjM,EAAaU,OADjBwL,EAAlB,EAAQhC,SAGFhK,GAHN,EAAiC4J,YAGlB3J,EAAAA,EAAAA,OAETsN,GAAQrK,EAAAA,EAAAA,IAAS,CACnByC,UAAWjF,EAAoBF,MAAMmF,UACrCD,YAAahF,EAAoBF,MAAMkF,YACvCF,YAAa9E,EAAoBF,MAAMgF,cAGrCsB,EAAQ,CACVnB,UAAW,CACPiG,eAAgBtI,EAAAA,GAAAA,YACZ,sCACAsI,EAAAA,EAAAA,KAAe,kBAAO2B,EAAM7H,cAAgB6H,EAAM/H,WAAnC,MAGvBA,YAAa,CACToG,eAAgBtI,EAAAA,GAAAA,YACZ,sCACAsI,EAAAA,EAAAA,KAAe,kBAAM2B,EAAM7H,aAAe6H,EAAM5H,SAAjC,MAGvBD,YAAa,CACTkG,eAAgBtI,EAAAA,GAAAA,YACZ,sCACAsI,EAAAA,EAAAA,KAAe,kBAAM2B,EAAM5H,WAAa4H,EAAM/H,WAA/B,OAIrBvC,GAAmBC,EAAAA,EAAAA,IAAS,CAC9ByC,UAAW,KACXD,YAAa,KACbF,YAAa,OAEXrC,GAAIC,EAAAA,EAAAA,IAAa0D,EAAOyG,EAAO,CAAEtK,iBAAAA,IAEjCM,EAAQ,yCAAG,oGACDJ,EAAE3C,MAAMgD,YADP,qEAIN9C,EAAoBF,MAJd,gCAKHwL,EAAc,CAChB7L,SAAUL,EAAaU,MACvBkK,SAAU3K,EAAaS,MACvBmF,UAAW4H,EAAM5H,UACjBD,YAAa6H,EAAM7H,YACnBF,YAAa+H,EAAM/H,cAVd,+CAaH7E,EAAc,CAChBgF,UAAW4H,EAAM5H,UACjBD,YAAa6H,EAAM7H,YACnBF,YAAa+H,EAAM/H,cAhBd,YAmBT+H,EAAM7H,YAnBG,wBAoBT1F,EAAOgE,KAAK,CACRC,KAAM,eACNC,OAAQ,CACJpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,aAzBL,2BA0CbnE,EAAOgE,KAAK,CACRC,KAAM,eACNC,OAAQ,CACJpE,aAAcA,EAAaU,MAC3BT,aAAcA,EAAaS,MAC3B2D,KAAM,UA/CD,4CAAH,qDAoDR/C,EAAO,kBAAMpB,EAAOoB,MAAb,E,k0DCvHb,MAAMgD,EAAc,EAEpB,O","sources":["webpack://vue-workbase-app/./src/components/order/forms/address-form.vue","webpack://vue-workbase-app/./src/components/order/forms/address-form.vue?482b","webpack://vue-workbase-app/./src/components/order/forms/exit-locations-form.vue","webpack://vue-workbase-app/./src/components/order/forms/exit-locations-form.vue?f90a","webpack://vue-workbase-app/./src/components/order/forms/other-form.vue","webpack://vue-workbase-app/./src/components/order/forms/other-form.vue?8614","webpack://vue-workbase-app/./src/components/order/forms/price-form.vue","webpack://vue-workbase-app/./src/components/order/forms/price-form.vue?e222","webpack://vue-workbase-app/./src/components/order/forms/publish-form.vue","webpack://vue-workbase-app/./src/components/order/forms/publish-form.vue?eef3","webpack://vue-workbase-app/./src/composables/services/create.js","webpack://vue-workbase-app/./src/components/order/forms/select-form.vue","webpack://vue-workbase-app/./src/components/order/forms/select-form.vue?eab5","webpack://vue-workbase-app/./src/components/order/forms/time-form.vue","webpack://vue-workbase-app/./src/components/order/forms/time-form.vue?2b46","webpack://vue-workbase-app/./src/components/order/forms/work-place-form.vue","webpack://vue-workbase-app/./src/components/order/forms/work-place-form.vue?b33d"],"sourcesContent":["<script setup>\nimport BaseForm from \"@/components/order/forms/base-form.vue\";\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, required, requiredIf } from \"@vuelidate/validators\";\nimport debounce from \"lodash.debounce\";\nimport { onMounted, reactive, ref, toRefs, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { yandexMap, ymapMarker, loadYmap } from \"vue-yandex-maps\";\nconst props = defineProps({\n    categorySlug: {},\n    serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst {\n    category,\n    onGetWhenNotLoaded,\n    isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n    await onGetWhenNotLoaded(categorySlug.value);\n});\nconst {\n    currentDraftedOrder,\n    isUpdating: orderIsUpdating,\n    onUpdate: onUpdateOrder,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst mapSettings = {\n    apiKey: \"12a2dc9a-cec9-4cd8-a653-cb852b6dec85\",\n    lang: \"ru_RU\",\n    coordorder: \"latlong\",\n    enterprise: false,\n    version: \"2.1\",\n};\nconst back = () => {\n    router.back();\n};\nonMounted(async () => {\n    await loadYmap();\n});\n\nconst onClickInMap = (e) => {\n    if (e.get == null) {\n        return;\n    }\n    placemark.value = e.get(\"coords\");\n};\nconst address = ref(currentDraftedOrder.value.address);\nconst searchedItems = ref([]);\nconst placemark = ref(\n    currentDraftedOrder.value.lat && currentDraftedOrder.value.lng\n        ? [currentDraftedOrder.value.lat, currentDraftedOrder.value.lng]\n        : []\n);\nconst map = ref();\nconst onSelectItem = (item) => {\n    placemark.value = item.geometry.getCoordinates();\n    address.value = item.getAddressLine();\n    console.log(Array.from(placemark.value));\n    map.value.setCenter(Array.from(placemark.value), 16, { duration: 200 });\n};\nwatch(\n    placemark,\n    debounce(\n        async () =>\n            (address.value = (\n                await ymaps.geocode(Array.from(placemark.value))\n            ).geoObjects\n                .get(0)\n                .getAddressLine()),\n        100\n    )\n);\nwatch(address, async () => {\n    searchedItems.value = ( //Ташкент  ... Узбекистан, Ташкент\n        await ymaps.geocode(address.value)\n    ).geoObjects.toArray();\n});\n\nconst $externalResults = reactive({});\n\nconst v = useVuelidate(\n    {\n        address: {\n            required: helpers.withMessage(\"Введите свой адрес\", required),\n        },\n        placemark: {\n            // custom: (value) => console.log(value?.length == 2),\n        },\n    },\n    { address, placemark },\n    { $externalResults }\n);\n\nconst onSubmit = async (e) => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n\n    await onUpdateOrder({\n        address: address.value,\n        lat: placemark.value[0],\n        lng: placemark.value[1],\n    }).catch(({ response }) => {\n        if (response.status == 400) {\n            const { error } = response.data;\n            if (error.type == \"validation\") {\n                $externalResults.address = error.fields.address || [];\n                $externalResults.placemark =\n                    error.fields.lat || error.fields.lng || [];\n            }\n        }\n    });\n\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"time\",\n        },\n    });\n};\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>Укажите ваш адрес</h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <c-search\n            v-model=\"address\"\n            :items=\"searchedItems\"\n            @on-select-item=\"onSelectItem\"\n            placeholder=\"Город, район, улица, дом\"\n        >\n            <template #list-item=\"{ item }\">\n                {{ item.getAddressLine() }}\n            </template>\n        </c-search>\n        <div\n            class=\"text-red-500 py-2\"\n            v-for=\"error in v.address.$errors || v.placemark.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <yandex-map\n            :settings=\"mapSettings\"\n            :coords=\"\n                placemark?.length\n                    ? placemark\n                    : [41.31377189085043, 69.25741676336806]\n            \"\n            :zoom=\"10\"\n            init-without-markers\n            class=\"h-96 rounded-md overflow-clip\"\n            @click=\"onClickInMap\"\n            @map-was-initialized=\"map = $event\"\n        >\n            <div></div>\n            <ymap-marker\n                markerId=\"address\"\n                :coords=\"placemark\"\n                v-if=\"placemark?.length == 2\"\n            ></ymap-marker>\n            <!-- @dragend=\"onDragEnd\"\n                :options=\"{ draggable: true }\" -->\n        </yandex-map>\n\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>","import script from \"./address-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./address-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>\n                {{\n                    category.id == 1\n                        ? \"Выберите место проведения занятий\"\n                        : \"Выберите место проведения работы\"\n                }}\n            </h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5 mb-3\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <ul>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.at_executor\" type=\"checkbox\" />\n                    у исполнителя\n                </label>\n            </li>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.at_customer\" type=\"checkbox\" />\n                    у заказчика\n                </label>\n            </li>\n            <li>\n                <label class=\"select-none\">\n                    <input v-model=\"state.is_online\" type=\"checkbox\" />\n                    дистанционно\n                </label>\n            </li>\n        </ul>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_customer.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.is_online.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_executor.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ $error.message }}\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n","import { render } from \"./exit-locations-form.vue?vue&type=template&id=1203d81f\"\nconst script = {}\n\nimport exportComponent from \"/media/jamshid/Local Disk10/vue-workbase-app-main_development/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\nimport { computed, onMounted } from \"@vue/runtime-core\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, minLength } from \"@vuelidate/validators\";\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({\n  categorySlug: {},\n  serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst back = () => {\n  router.back();\n};\nconst {\n  category,\n  onGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n  isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n  await onGetCategoryWhenNotLoaded(categorySlug.value);\n});\n\nconst {\n  currentDraftedOrder,\n  onUpdate: onUpdateOrder,\n  isUpdating: orderIsUpdating,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst description = ref(currentDraftedOrder?.value?.description || \"\");\n\nconst $externalResults = reactive({\n  description: [],\n});\n\nconst v = useVuelidate(\n  {\n    description: {\n      minLength: helpers.withMessage(\n        \"Минимиальное количество символов 5.\",\n        minLength(5)\n      ),\n    },\n  },\n  {\n    description,\n  },\n  { $externalResults }\n);\nconst onSubmit = async (e) => {\n  if (!(await v.value.$validate())) {\n    return;\n  }\n\n  await onUpdateOrder({\n    description: description.value,\n  }).catch(({ response }) => {\n    const { error } = response?.data;\n    if (error?.type == \"validation\") {\n      $externalResults.description = error.fields.description || [];\n    }\n\n    throw new Error(error);\n  });\n\n  router.push({\n    name: \"order.update\",\n    params: {\n      categorySlug: categorySlug.value,\n      serviceSlugs: serviceSlugs.value,\n      form: \"publish\",\n    },\n  });\n};\n\nconst isLoading = computed(\n  () => orderIsUpdating.value || categoryIsLoading.value\n);\n</script>\n<template>\n  <BaseForm @on-submit=\"onSubmit\">\n    <template #header>\n      <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n        <div class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"></div>\n      </div>\n      <h1\n        class=\"text-2xl text-primary\"\n        :class=\"{ 'animate-pulse': isLoading }\"\n        v-else\n      >\n        Пожелания к заказу\n      </h1>\n      <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n        <div class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"></div>\n      </div>\n      <p class=\"text-orange-500\" :class=\"{ 'animate-pulse': isLoading }\">\n        {{ category.name }}\n      </p>\n    </template>\n\n    <div :class=\"{ 'animate-pulse': isLoading }\">\n      <c-textarea\n        autofocus\n        name=\"kfjklsdj\"\n        v-model=\"description\"\n        class=\"w-full max-h-[600px] min-h-[170px]\"\n        rows=\"10\"\n        placeholder=\"В этом поле Вы можете написать дополнительные условия и уточнения по работе. Данное поле поможет специалисту лучше подготовится к работе и понять специфику задачи.\n\tНапример:\n\t1. Прошу приобрести розетки и лампочки самостоятельно, дополнительные расходы будут покрыты Заказчиком. \n\t2. По мимо уборки квартиры, необходимо постирать и погладить одежду.\"\n      >\n        Дополнительные пожелания\n      </c-textarea>\n      <div\n        class=\"text-red-500 mb-3 mt-1\"\n        v-for=\"error in v.description.$errors\"\n        :key=\"error.$uid\"\n      >\n        {{ error.$message }}\n      </div>\n    </div>\n    <template #footer>\n      <c-button\n        scheme=\"secondary\"\n        type=\"button\"\n        @click=\"back\"\n        :loading=\"isLoading\"\n        :disabled=\"isLoading\"\n      >\n        Назад\n      </c-button>\n      <c-button :loading=\"isLoading\" :disabled=\"isLoading\">\n        Продолжить\n      </c-button>\n    </template>\n  </BaseForm>\n</template>\n\n","import script from \"./other-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./other-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\n\timport { reactive, ref, toRefs, watch } from \"vue\";\n\timport { onMounted } from \"@vue/runtime-core\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport {\n\t\thelpers,\n\t\trequired,\n\t\trequiredIf,\n\t\trequiredUnless,\n\t} from \"@vuelidate/validators\";\n\timport { useRouter } from \"vue-router\";\n\timport BaseForm from \"./base-form.vue\";\n\tconst props = defineProps({\n\t\tcategorySlug: {},\n\t\tserviceSlugs: {},\n\t});\n\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\n\tconst router = useRouter();\n\n\tconst {\n\t\tcategory,\n\t\tonGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n\t\tisLoading: categoryIsLoading,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetCategoryWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\n\tconst {\n\t\tcurrentDraftedOrder,\n\t\tisUpdating: orderIsUpdating,\n\t\tonUpdate: onUpdateOrder,\n\t} = useUpdateOrderApi(categorySlug.value);\n\n\tconst minPrice = ref(currentDraftedOrder.value?.price_min || \"\");\n\tconst maxPrice = ref(currentDraftedOrder.value?.price_max || \"\");\n\tconst $externalResults = reactive({\n\t\tminPrice: [],\n\t\tmaxPrice: [],\n\t});\n\n\twatch(minPrice, () => {\n\t\t$externalResults.minPrice = [];\n\t});\n\n\twatch(maxPrice, () => {\n\t\t$externalResults.maxPrice = [];\n\t});\n\n\tconst rules = {\n\t\tminPrice: {\n\t\t\trequiredIf: helpers.withMessage(\"\", requiredIf(false)),\n\t\t},\n\t\tmaxPrice: {\n\t\t\trequired: helpers.withMessage(\"Укажите максимальную цену\", required),\n\t\t},\n\t};\n\n\tconst v = useVuelidate(rules, { minPrice, maxPrice }, { $externalResults });\n\n\tconst onSubmit = async (e) => {\n\t\tif (!(await v.value.$validate())) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait onUpdateOrder({\n\t\t\tprice_min: minPrice.value || 0,\n\t\t\tprice_max: maxPrice.value,\n\t\t\tis_ranged_price: true,\n\t\t}).catch(({ response }) => {\n\t\t\tconst { error } = response?.data;\n\t\t\tif (error?.type == \"validation\") {\n\t\t\t\t$externalResults.minPrice = error.fields.price_min || [];\n\t\t\t\t$externalResults.maxPrice = error.fields.price_max || [];\n\t\t\t}\n\n\t\t\tthrow new Error(error);\n\t\t});\n\t\trouter.push({\n\t\t\tname: \"order.update\",\n\t\t\tparams: {\n\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\tserviceSlugs: serviceSlugs.value,\n\t\t\t\tform: \"other\",\n\t\t\t},\n\t\t});\n\t};\n</script>\n<template>\n\t<BaseForm @on-submit=\"onSubmit\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-2xl text-primary\" v-else>Укажите цену за услугу</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<div class=\"grid gap-4 grid-cols-2\">\n\t\t\t<!-- <div class=\"col-span-2\">\n\t\t\t\t<label for=\"priceField\" class=\"mb-2 inline-block\">\n\t\t\t\t\tЦена за работу:\n\t\t\t\t</label>\n\t\t\t\t<label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\trounded-md\n\t\t\t\t\t\tbg-primary/10\n\t\t\t\t\t\tborder border-primary/10\n\t\t\t\t\t\thover:border-primary/50\n\t\t\t\t\t\tfocus-within:!border-primary focus-within:outline-none\n\t\t\t\t\t\toverflow-hidden\n\t\t\t\t\t\tflex\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"py-1.5 px-2\">От:</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"priceField\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"price\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tblock\n\t\t\t\t\t\t\tw-full\n\t\t\t\t\t\t\tpr-2\n\t\t\t\t\t\t\tpy-1.5\n\t\t\t\t\t\t\tbg-transparent\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tmin=\"1000\"\n\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.price.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div> -->\n\t\t\t<div class=\"col-span-2 sm:col-span-1 md:col-span-2 lg:col-span-1\">\n\t\t\t\t<c-input\n\t\t\t\t\tplaceholder=\"1000\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tv-model=\"minPrice\"\n\t\t\t\t\tclass=\"w-full py-2\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tname=\"minPrice\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>От:</template>\n\t\t\t\t\tМинимальный бюджет за работу\n\t\t\t\t</c-input>\n\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.minPrice.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"\n\t\t\t\t\tcol-span-2\n\t\t\t\t\tsm:col-span-1\n\t\t\t\t\tmd:col-span-2\n\t\t\t\t\tlg:col-span-1\n\t\t\t\t\tflex flex-col\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<c-input\n\t\t\t\t\tplaceholder=\"10000\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tv-model=\"maxPrice\"\n\t\t\t\t\tname=\"maxPrice\"\n\t\t\t\t\tclass=\"w-full py-2\"\n\t\t\t\t\tautofocus\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>До:</template>\n\t\t\t\t\tМаксимальный бюджет за работу\n\t\t\t\t</c-input>\n\t\t\t\t<div class=\"mt-1 mb-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t\tv-for=\"error in v.maxPrice.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<template #footer>\n\t\t\t<c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n\t\t\t\tНазад\n\t\t\t</c-button>\n\t\t\t<c-button> Продолжить </c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./price-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./price-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport { useRouter } from \"vue-router\";\n\timport { onMounted, reactive, ref, toRef, toRefs, watch } from \"vue\";\n\timport BaseForm from \"./base-form.vue\";\n\timport { isAuthentificated, useLogin, useRegister } from \"@/composables/auth\";\n\timport { ProfileType } from \"@/utils/enums\";\n\timport {\n\t\temail,\n\t\thelpers,\n\t\trequired,\n\t\trequiredIf,\n\t\tsameAs,\n\t} from \"@vuelidate/validators\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport { or } from \"@vueuse/core\";\n\timport { usePublishOrderApi } from \"@/composables/orders/instance&storage\";\n\n\tconst props = defineProps({\n\t\tcategorySlug: {},\n\t\tserviceSlugs: {},\n\t});\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\tconst {\n\t\tonGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n\t\tisLoading: categoryIsLoading,\n\t\tcategory,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetCategoryWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst router = useRouter();\n\tconst { onPublish, isPublishing, isPublished, currentDraftedOrder } =\n\t\tusePublishOrderApi(categorySlug.value);\n\n\tconst onSubmit = async () => {\n\t\tawait onPublish().catch(({ response }) => {\n\t\t\tconsole.dir(response);\n\t\t});\n\t\trouter.push(\"/\");\n\t};\n\n\tconst { onRegister, isRegistering, isRegistered } = useRegister();\n\n\tconst registerState = reactive({\n\t\tname: \"\",\n\t\tsurname: \"\",\n\t\tpatronymic: \"\",\n\t\tusername: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tpasswordConfirmation: \"\",\n\t\ttype: ProfileType.customer,\n\t});\n\n\twatch(\n\t\t() => registerState.name,\n\t\t() => {\n\t\t\tregisterExternalResults.name = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.surname,\n\t\t() => {\n\t\t\tregisterExternalResults.surname = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.patronymic,\n\t\t() => {\n\t\t\tregisterExternalResults.patronymic = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.username,\n\t\t() => {\n\t\t\tregisterExternalResults.username = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.email,\n\t\t() => {\n\t\t\tregisterExternalResults.email = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.password,\n\t\t() => {\n\t\t\tregisterExternalResults.password = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => registerState.passwordConfirmation,\n\t\t() => {\n\t\t\tregisterExternalResults.passwordConfirmation = [];\n\t\t}\n\t);\n\tconst registerRules = {\n\t\tname: {\n\t\t\trequired: helpers.withMessage(\"Введите имя\", required),\n\t\t},\n\t\tsurname: {\n\t\t\trequired: helpers.withMessage(\"Введите фамилию\", required),\n\t\t},\n\t\tpatronymic: {\n\t\t\trequiredIf: requiredIf(false),\n\t\t},\n\t\tusername: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\temail: {\n\t\t\trequired: helpers.withMessage(\"Введите емэил\", required),\n\t\t\temail: helpers.withMessage(\"Введите корректный емэил\", email),\n\t\t},\n\t\tpassword: {\n\t\t\trequired: helpers.withMessage(\"Укажите пароль\", required),\n\t\t},\n\t\tpasswordConfirmation: {\n\t\t\tsameAsPassword: helpers.withMessage(\n\t\t\t\t\"Подтверждение пароля не совподает с паролем\",\n\t\t\t\tsameAs(toRef(registerState, \"password\"))\n\t\t\t),\n\t\t},\n\t\ttype: {\n\t\t\trequired: helpers.withMessage(\"Укажите тип пользователя\", required),\n\t\t\tin: helpers.withMessage(\n\t\t\t\t\"Тип пользователя может быть только как заказчик или исполнитель\",\n\t\t\t\tor(sameAs(ProfileType.customer), sameAs(ProfileType.executor))\n\t\t\t),\n\t\t},\n\t};\n\n\tconst registerExternalResults = reactive({\n\t\tname: [],\n\t\tsurname: [],\n\t\tpatronymic: [],\n\t\tusername: [],\n\t\temail: [],\n\t\tpassword: [],\n\t\tpasswordConfirmation: [],\n\t});\n\n\tconst registerValidator = useVuelidate(registerRules, registerState, {\n\t\t$externalResults: registerExternalResults,\n\t});\n\tconst registerErrorMessage = ref();\n\tconst onRegisterHandler = async () => {\n\t\tif (!(await registerValidator.value.$validate())) return;\n\n\t\tonRegister(registerState).catch(({ response }) => {\n\t\t\tconst { type, fields, message } = response.data.error;\n\n\t\t\tif (type == \"validation\") {\n\t\t\t\tObject.assign(registerExternalResults, fields);\n\t\t\t}\n\n\t\t\tif (type == \"auth\") {\n\t\t\t\tregisterErrorMessage.value = message;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst { onLogin, isLogining, profile, isLogined } = useLogin();\n\n\tconst loginState = reactive({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\ttype: ProfileType.customer,\n\t});\n\n\twatch(\n\t\t() => loginState.username,\n\t\t() => {\n\t\t\tloginExternalResults.username = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => loginState.password,\n\t\t() => {\n\t\t\tloginExternalResults.password = [];\n\t\t}\n\t);\n\twatch(\n\t\t() => loginState.type,\n\t\t() => {\n\t\t\tloginExternalResults.type = [];\n\t\t}\n\t);\n\n\tconst loginRules = reactive({\n\t\tusername: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\tpassword: {\n\t\t\trequired: helpers.withMessage(\"Введите номер телефона\", required),\n\t\t},\n\t\ttype: {\n\t\t\tin: helpers.withMessage(\n\t\t\t\t\"Тип пользователя может быть только как заказчик или исполнитель\",\n\t\t\t\tor(sameAs(ProfileType.customer), sameAs(ProfileType.executor))\n\t\t\t),\n\t\t},\n\t});\n\tconst loginExternalResults = reactive({\n\t\tusername: [],\n\t\tpassword: [],\n\t\ttype: [],\n\t});\n\tconst loginValidator = useVuelidate(loginRules, loginState, {\n\t\t$externalResults: loginExternalResults,\n\t});\n\tconst loginErrorMessage = ref();\n\tconst onLoginHandler = async () => {\n\t\tif (!(await loginValidator.value.$validate())) return;\n\t\tonLogin(loginState).catch(({ response }) => {\n\t\t\tconst { type, fields, message } = response.data.error;\n\t\t\tif (type == \"validation\") {\n\t\t\t\tObject.assign(loginExternalResults, fields);\n\t\t\t}\n\t\t\tif (type == \"auth\") {\n\t\t\t\tloginErrorMessage.value = message;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\n\tconst isLoginForm = ref(true);\n\n\tconst fullname = ref(\n\t\t`${profile?.value?.name} ${profile?.value?.surname} ${profile?.value?.patronymic}`\n\t);\n</script>\n<template>\n\t<BaseForm @submit=\"onSubmit\" :class=\"{ 'animate-pulse': isPublishing }\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-2xl text-primary\" v-else>\n\t\t\t\t<span v-if=\"!isAuthentificated\">\n\t\t\t\t\tПочти все готово, осталось авторизоваться в системе!\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"isRegistered\">\n\t\t\t\t\tВы успешно зарегистрировались, опубликуйте заказ!\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"isLogined\">\n\t\t\t\t\tВы успешно авторизовались, опубликуйте заказ!\n\t\t\t\t</span>\n\t\t\t\t<span v-else> Все готово, опубликуйте заказ! </span>\n\t\t\t</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<div v-if=\"isAuthentificated\" class=\"max-w-[24rem]\">\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">\n\t\t\t\tОпубликовать заказ под именем\n\t\t\t</h3>\n\t\t\t<c-input v-model=\"fullname\" name=\"fullname\" class=\"w-full\" disabled>\n\t\t\t\tФИО\n\t\t\t</c-input>\n\t\t</div>\n\t\t<form\n\t\t\t@submit.prevent=\"onLoginHandler\"\n\t\t\tv-else-if=\"isLoginForm\"\n\t\t\tclass=\"max-w-[24rem]\"\n\t\t>\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">Авторизация</h3>\n\t\t\t<div class=\"text-red-500 mt-2 mb-3\">\n\t\t\t\t{{ loginErrorMessage }}\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"loginState.username\"\n\t\t\t\tplaceholder=\"+998901234567\"\n\t\t\t\tname=\"username\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:valid=\"!loginValidator.username.$error\"\n\t\t\t>\n\t\t\t\tНомер телефона\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in loginValidator.username.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"loginState.password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!loginValidator.password.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПароль\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in loginValidator.password.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-button\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:disabled=\"isLogining\"\n\t\t\t\t:loading=\"isLogining\"\n\t\t\t>\n\t\t\t\tВойти\n\t\t\t</c-button>\n\t\t\t<p class=\"mt-3 mb-3\">\n\t\t\t\tЕще нет аккаунта?\n\t\t\t\t<a\n\t\t\t\t\t@click=\"isLoginForm = false\"\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\ttext-primary\n\t\t\t\t\t\thover:text-primary/75 hover:cursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tЗарегистрируйтесь!\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</form>\n\n\t\t<form @submit.prevent=\"onRegisterHandler\" v-else class=\"max-w-[24rem]\">\n\t\t\t<h3 class=\"text-primary mb-3 text-2xl\">Регистрация</h3>\n\t\t\t<div class=\"text-red-500 mt-2 mb-3\">\n\t\t\t\t{{ registerErrorMessage }}\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.name\"\n\t\t\t\tname=\"name\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.name.$error\"\n\t\t\t>\n\t\t\t\tИмя\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.name.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.surname\"\n\t\t\t\tname=\"surname\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.surname.$error\"\n\t\t\t>\n\t\t\t\tФамилия\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.surname.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.patronymic\"\n\t\t\t\tname=\"patronymic\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.patronymic.$error\"\n\t\t\t>\n\t\t\t\tОтчество\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.patronymic.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.username\"\n\t\t\t\tname=\"username\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"text\"\n\t\t\t\t:valid=\"!registerValidator.username.$error\"\n\t\t\t>\n\t\t\t\tНомер телефона\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.username.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.email\"\n\t\t\t\tname=\"email\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"email\"\n\t\t\t\t:valid=\"!registerValidator.email.$error\"\n\t\t\t>\n\t\t\t\tЭлектронный почтовый адрес\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.email.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!registerValidator.password.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПароль\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.password.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-input\n\t\t\t\tv-model=\"registerState.passwordConfirmation\"\n\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\ttype=\"password\"\n\t\t\t\t:valid=\"!registerValidator.passwordConfirmation.$error\"\n\t\t\t\teye\n\t\t\t>\n\t\t\t\tПодтверждение пароля\n\t\t\t</c-input>\n\t\t\t<div class=\"mt-0.5 mb-3.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\tv-for=\"error in registerValidator.passwordConfirmation\n\t\t\t\t\t\t.$errors\"\n\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t>\n\t\t\t\t\t{{ error.$message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<c-button\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t:disabled=\"isRegistering\"\n\t\t\t\t:loading=\"isRegistering\"\n\t\t\t>\n\t\t\t\tЗарегистрироваться\n\t\t\t</c-button>\n\t\t\t<p class=\"mt-3 mb-3\">\n\t\t\t\tУже имеется аккаунт?\n\t\t\t\t<a\n\t\t\t\t\t@click=\"isLoginForm = true\"\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\ttext-primary\n\t\t\t\t\t\thover:text-primary/75 hover:cursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tАвторизуйтесь!\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</form>\n\t\t<template #footer>\n\t\t\t<c-button\n\t\t\t\tscheme=\"secondary\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t@click=\"back\"\n\t\t\t\t:disabled=\"isPublishing\"\n\t\t\t>\n\t\t\t\tНазад\n\t\t\t</c-button>\n\t\t\t<c-button :disabled=\"!isAuthentificated || isPublishing\">\n\t\t\t\tОпубликовать\n\t\t\t</c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./publish-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./publish-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { create } from \"@/api/services\";\nimport { reactive, readonly, ref } from \"vue\";\n\n\nconst service = reactive({\n\n})\nconst isCreating = ref(false);\nconst isCreated = ref(false);\nconst promise = ref(null);\n\n\nexport default function useCreateServiceApi() {\n\n    const onCreate = (data = { name: '', parent: null, category: null, }) => {\n        isCreating.value = true;\n        isCreated.value = false;\n        promise.value = create(data)\n            .then(response => response.data)\n            .then(data => {\n                Object.assign(service, data.service);\n                isCreated.value = true;\n                return readonly(service);\n            }).finally(() => isCreating.value = false);\n        return promise.value;\n    }\n\n    return {\n        isCreating: readonly(isCreating),\n        isCreated: readonly(isCreated),\n        promise: readonly(promise),\n        onCreate,\n    };\n}","<script setup>\n\timport BaseForm from \"@/components/order/forms/base-form.vue\";\n\timport useCategoryApi from \"@/composables/categories/instance\";\n\timport useServicesApi from \"@/composables/services\";\n\timport {\n\t\tcomputed,\n\t\tonMounted,\n\t\treactive,\n\t\tref,\n\t\ttoRefs,\n\t\twatch,\n\t} from \"@vue/runtime-core\";\n\timport useVuelidate from \"@vuelidate/core\";\n\timport { helpers, requiredIf, requiredUnless } from \"@vuelidate/validators\";\n\timport { useRouter } from \"vue-router\";\n\timport useCreateServiceApi from \"@/composables/services/create\";\n\timport {\n\t\tuseCreateOrderApi,\n\t\tuseUpdateOrderApi,\n\t} from \"@/composables/orders/instance&storage\";\n\timport useServiceApi from \"@/composables/services/instance\";\n\n\tconst props = defineProps({ categorySlug: {}, serviceSlugs: {} });\n\tconst { categorySlug, serviceSlugs } = toRefs(props);\n\tconst router = useRouter();\n\n\tconst {\n\t\tonGetWhenNotLoaded,\n\t\tcategory,\n\t\tisLoading: categoryIsLoading,\n\t\tisLoaded: categoryIsLoaded,\n\t} = useCategoryApi();\n\n\tonMounted(async () => {\n\t\tawait onGetWhenNotLoaded(categorySlug.value);\n\t});\n\n\tconst {\n\t\tservices,\n\t\tisLoading: servicesIsLoading,\n\t\tisLoaded: servicesIsLoaded,\n\t\tonGet: onGetServices,\n\t} = useServicesApi({\n\t\tperPage: 1000,\n\t\tcategory: categorySlug.value,\n\t\tparent: serviceSlugs.value?.[serviceSlugs.value?.length - 1],\n\t});\n\tconst isExpanded = ref(false);\n\tonMounted(async () => {\n\t\tawait onGetServices({});\n\t\tif (services.value.length < 8) {\n\t\t\tisExpanded.value = true;\n\t\t}\n\t\tif (!!!currentDraftedOrder.value) return;\n\t\tconst s = currentDraftedOrder.value.services.find((ss) =>\n\t\t\tservices.value.find((sss) => sss.slug == ss.slug)\n\t\t);\n\t\tservice.value = s?.slug;\n\t\t// const serv = currentDraftedOrder?.value?.services.find(\n\t\t//     (s) =>\n\t\t//         !s.is_active &&\n\t\t//         s.parent?.slug ==\n\t\t//             serviceSlugs.value?.[serviceSlugs.value?.length - 1]\n\t\t// );\n\t\t// console.log(serv);\n\t});\n\n\tconst back = () => {\n\t\trouter.back();\n\t};\n\tconst computedServices = computed(() => {\n\t\tif (isExpanded.value) {\n\t\t\treturn services.value;\n\t\t}\n\t\tconst index =\n\t\t\tservices.value?.findIndex((s) =>\n\t\t\t\tcurrentDraftedOrder.value?.services?.find((ss) => ss.slug == s.slug)\n\t\t\t) + 1;\n\t\treturn services.value?.slice(0, index > 8 ? index : 8);\n\t});\n\n\tconst isLoading = computed(\n\t\t() =>\n\t\t\tcategoryIsLoading.value ||\n\t\t\tservicesIsLoading.value ||\n\t\t\torderIsUpdating.value ||\n\t\t\torderIsCreating.value ||\n\t\t\tserviceIsLoading.value\n\t);\n\n\tconst service = ref();\n\tconst newEntry = ref(false);\n\tconst newEntryField = ref(\"\");\n\twatch(service, (value) => {\n\t\tif (value != null) newEntry.value = false;\n\t\t$externalResults.service = null;\n\t});\n\twatch(newEntry, (value) => {\n\t\tif (!!value) service.value = null;\n\t\t$externalResults.newEntryField = null;\n\t});\n\n\twatch(newEntryField, () => {\n\t\t$externalResults.newEntryField = null;\n\t});\n\n\tconst $externalResults = reactive({});\n\tconst rules = {\n\t\tservice: {\n\t\t\trequiredUnless: helpers.withMessage(\n\t\t\t\t\"Выберите услугу\",\n\t\t\t\trequiredUnless(newEntry)\n\t\t\t),\n\t\t},\n\t\tnewEntry: {},\n\t\tnewEntryField: {\n\t\t\trequiredif: helpers.withMessage(\n\t\t\t\t\"Заполните данное поле\",\n\t\t\t\trequiredIf(newEntry)\n\t\t\t),\n\t\t},\n\t};\n\n\tconst v = useVuelidate(\n\t\trules,\n\t\t{ service, newEntry, newEntryField },\n\t\t{ $externalResults }\n\t);\n\n\tconst { onCreate: onCreateService, isCreating: serviceIsCreating } =\n\t\tuseCreateServiceApi();\n\n\tconst {\n\t\tonUpdate: onUpdateOrder,\n\t\tisUpdating: orderIsUpdating,\n\t\tcurrentDraftedOrder,\n\t} = useUpdateOrderApi(categorySlug.value);\n\n\tconst { onCreate: onCreateOrder, isCreating: orderIsCreating } =\n\t\tuseCreateOrderApi(categorySlug.value);\n\n\tconst {\n\t\tservice: fetchedService,\n\t\tonGet: onGetService,\n\t\tisLoading: serviceIsLoading,\n\t} = useServiceApi();\n\n\tconst onSubmit = async (e) => {\n\t\tif (!(await v.value.$validate())) {\n\t\t\treturn;\n\t\t}\n\t\tlet newService;\n\t\tif (newEntry.value) {\n\t\t\tnewService = await onCreateService({\n\t\t\t\tname: newEntryField.value,\n\t\t\t\tparent: serviceSlugs.value?.[serviceSlugs.value?.length - 1],\n\t\t\t\tcategory: categorySlug.value,\n\t\t\t}).catch(({ response }) => {\n\t\t\t\tif (response.status != 400) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { type, fields } = response.data?.error;\n\n\t\t\t\tif (type == \"validation\") {\n\t\t\t\t\t$externalResults.newEntryField = fields.name;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!!!newService?.id) return;\n\t\t\tconsole.log(newService);\n\t\t} else {\n\t\t\tawait onGetService(service.value, { count: [\"children\"] });\n\t\t}\n\n\t\tconst servicesList = serviceSlugs.value || [];\n\t\tif (service.value) {\n\t\t\tservicesList.push(service.value);\n\t\t} else {\n\t\t\tservicesList.push(newService.slug);\n\t\t}\n\n\t\tif (!!!currentDraftedOrder.value)\n\t\t\tawait onCreateOrder({\n\t\t\t\tcategory: categorySlug.value,\n\t\t\t\tservices: servicesList,\n\t\t\t});\n\t\telse\n\t\t\tawait onUpdateOrder({\n\t\t\t\tservices: servicesList,\n\t\t\t});\n\n\t\tif (fetchedService?.value?.children_count > 0) {\n\t\t\tlocation.href =\n\t\t\t\t\"/\" +\n\t\t\t\tObject.values({\n\t\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\t\tserviceSlugs: servicesList,\n\t\t\t\t\tform: \"select\",\n\t\t\t\t})\n\t\t\t\t\t.map((element) =>\n\t\t\t\t\t\tArray.isArray(element) ? element.join(\"/\") : element\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"/\");\n\t\t} else {\n\t\t\trouter.push({\n\t\t\t\tname: \"order.update\",\n\t\t\t\tparams: {\n\t\t\t\t\tcategorySlug: categorySlug.value,\n\t\t\t\t\tserviceSlugs: servicesList,\n\t\t\t\t\tform: \"work-place\",\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n</script>\n\n<template>\n\t<BaseForm @on-submit=\"onSubmit\">\n\t\t<template #header>\n\t\t\t<div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-7 w-96 bg-primary/10 rounded-lg animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<h1 class=\"text-3xl text-primary\" v-else>Выберите услугу</h1>\n\t\t\t<div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"text-orange-500\">{{ category.name }}</p>\n\t\t</template>\n\t\t<ul v-if=\"servicesIsLoading\">\n\t\t\t<li\n\t\t\t\tv-for=\"item in 8\"\n\t\t\t\t:key=\"`service-item-skeleton${item}`\"\n\t\t\t\tclass=\"border border-transparent\"\n\t\t\t>\n\t\t\t\t<div class=\"py-1.5 flex gap-2 items-center animate-pulse\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-full h-4 w-4 border-8 border-primary/20\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"pt-1 pb-1\">\n\t\t\t\t\t\t<div class=\"h-4 w-24 bg-primary/10 rounded-md\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class=\"py-0.5 flex gap-2 items-center animate-pulse\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-full h-4 w-4 border-8 border-primary/20\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"h-8.5 w-48 bg-primary/10 rounded-md\"></div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t<ul v-else>\n\t\t\t<li\n\t\t\t\tv-for=\"s in computedServices\"\n\t\t\t\t:key=\"s.id\"\n\t\t\t\tclass=\"border border-transparent\"\n\t\t\t>\n\t\t\t\t<c-radio v-model=\"service\" name=\"service\" :value=\"s.slug\">{{ s.name }}</c-radio>\n\t\t\t\t<!-- <label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t\tpy-1.5\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tgap-2\n\t\t\t\t\t\titems-center\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tappearance-none\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\th-4\n\t\t\t\t\t\t\tw-4\n\t\t\t\t\t\t\tborder border-primary/50\n\t\t\t\t\t\t\thover:border-primary/75\n\t\t\t\t\t\t\tchecked:!border-[5px] checked:!border-primary/100\n\t\t\t\t\t\t\tfocus:ring-2\n\t\t\t\t\t\t\tfocus:ring-primary/50\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\tdisabled:ring-0\n\t\t\t\t\t\t\tdisabled:border-8\n\t\t\t\t\t\t\tdisabled:bg-white\n\t\t\t\t\t\t\tdisabled:!border-primary/20\n\t\t\t\t\t\t\ttransition-all\n\t\t\t\t\t\t\tduration-200\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-model=\"service\"\n\t\t\t\t\t\t:value=\"s.slug\"\n\t\t\t\t\t/>\n\t\t\t\t\t<span class=\"peer-checked:text-primary\">\n\t\t\t\t\t\t{{ s.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</label> -->\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label\n\t\t\t\t\tclass=\"\n\t\t\t\t\t\tselect-none\n\t\t\t\t\t\tpy-0.5\n\t\t\t\t\t\tflex\n\t\t\t\t\t\tgap-2\n\t\t\t\t\t\titems-center\n\t\t\t\t\t\tcursor-pointer\n\t\t\t\t\t\"\n\t\t\t\t\t@click=\"newEntry = true\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\tappearance-none\n\t\t\t\t\t\t\trounded-full\n\t\t\t\t\t\t\th-4\n\t\t\t\t\t\t\tw-4\n\t\t\t\t\t\t\tborder border-primary/50\n\t\t\t\t\t\t\thover:border-primary/75\n\t\t\t\t\t\t\tchecked:!border-[5px] checked:!border-primary/100\n\t\t\t\t\t\t\tfocus:ring-2\n\t\t\t\t\t\t\tfocus:ring-primary/50\n\t\t\t\t\t\t\tfocus:outline-none\n\t\t\t\t\t\t\tdisabled:ring-0\n\t\t\t\t\t\t\tdisabled:border-8\n\t\t\t\t\t\t\tdisabled:bg-white\n\t\t\t\t\t\t\tdisabled:!border-primary/20\n\t\t\t\t\t\t\ttransition-all\n\t\t\t\t\t\t\tduration-200\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-model=\"newEntry\"\n\t\t\t\t\t\t:value=\"true\"\n\t\t\t\t\t\tid=\"radioNewEntry\"\n\t\t\t\t\t/>\n\t\t\t\t\t<c-input\n\t\t\t\t\t\tv-model=\"newEntryField\"\n\t\t\t\t\t\t@click=\"newEntry = true\"\n\t\t\t\t\t\tplaceholder=\"Другое\"\n\t\t\t\t\t\tclass=\"!py-1\"\n\t\t\t\t\t>\n\t\t\t\t\t</c-input>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"error in v.newEntryField.$errors\"\n\t\t\t\t\t\t:key=\"error.$uid\"\n\t\t\t\t\t\tclass=\"text-red-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ error.$message }}\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div\n\t\t\tv-for=\"error in v.service.$errors\"\n\t\t\t:key=\"error.$uid\"\n\t\t\tclass=\"text-red-500\"\n\t\t>\n\t\t\t{{ error.$message }}\n\t\t</div>\n\t\t<div v-if=\"servicesIsLoading\" class=\"pt-1.5 pb-0.5 mt-2\">\n\t\t\t<div class=\"h-4 w-44 bg-primary/10 rounded-md animate-pulse\"></div>\n\t\t</div>\n\t\t<a\n\t\t\tclass=\"text-primary hover:text-primary/75 mt-2 inline-block\"\n\t\t\thref=\"javascript:;\"\n\t\t\t@click=\"isExpanded = true\"\n\t\t\tv-else-if=\"!isExpanded\"\n\t\t>\n\t\t\tпоказать все услуги\n\t\t\t<h-chevron-down class=\"h-4 w-4 inline\"></h-chevron-down>\n\t\t</a>\n\t\t<div class=\"h-4\"></div>\n\t\t<template #footer>\n\t\t\t<c-button\n\t\t\t\tscheme=\"secondary\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t@click=\"back\"\n\t\t\t\t:loading=\"isLoading\"\n\t\t\t\t:disabled=\"isLoading\"\n\t\t\t>\n\t\t\t\tназад\n\t\t\t</c-button>\n\t\t\t<c-button :loading=\"isLoading\" :disabled=\"isLoading\">\n\t\t\t\tпродолжить\n\t\t\t</c-button>\n\t\t</template>\n\t</BaseForm>\n</template>\n\n","import script from \"./select-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./select-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport { useUpdateOrderApi } from \"@/composables/orders/instance&storage\";\nimport { reactive, ref, toRefs } from \"@vue/reactivity\";\nimport { onMounted, watch } from \"@vue/runtime-core\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, minValue, required } from \"@vuelidate/validators\";\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({\n    categorySlug: {},\n    serviceSlugs: {},\n});\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\n\nconst router = useRouter();\n\nconst back = () => {\n    router.back();\n};\nconst {\n    category,\n    onGetWhenNotLoaded: onGetCategoryWhenNotLoaded,\n    isLoading: categoryIsLoading,\n} = useCategoryApi();\n\nonMounted(async () => {\n    await onGetCategoryWhenNotLoaded(categorySlug.value);\n});\n\nconst { currentDraftedOrder, onUpdate: onUpdateOrder } = useUpdateOrderApi(\n    categorySlug.value\n);\n\nconst { started_at, ended_at } = currentDraftedOrder?.value || {};\nconst startedAt = ref(started_at ? new Date(started_at).toISOString().slice(0, -8) : null);\nconst endedAt = ref(ended_at ? new Date(ended_at).toISOString().slice(0, -8) : null);\nconst $externalResults = reactive({\n    startedAt: [],\n    endedAt: [],\n});\n\nconst v = useVuelidate(\n    {\n        startedAt: {\n            required: helpers.withMessage(\"Укажите дату\", required),\n            minValue: helpers.withMessage(\n                \"Время начала должна быть больше текущей\",\n                (value) => {\n                    return new Date(value) > new Date();\n                }\n            ),\n        },\n        endedAt: {\n            required: helpers.withMessage(\"Укажите дату\", required),\n            minValueRef: helpers.withMessage(\n                \"Время завершения должна быть больше времени началы\",\n                (value) => {\n                    return new Date(value) > new Date(startedAt.value);\n                }\n            ),\n        },\n    },\n    {\n        startedAt,\n        endedAt,\n    },\n    { $externalResults }\n);\nconst onSubmit = async (e) => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n\n    await onUpdateOrder({\n        started_at: new Date(startedAt.value)\n            .toISOString()\n            .slice(0, -5)\n            .replace(\"T\", \" \"),\n        ended_at: new Date(endedAt.value)\n            .toISOString()\n            .slice(0, -5)\n            .replace(\"T\", \" \"),\n    }).catch(({ response }) => {\n        const { error } = response?.data;\n        if (error?.type == \"validation\") {\n            $externalResults.startedAt = error.fields.started_at || [];\n            $externalResults.endedAt = error.fields.ended_at || [];\n        }\n    });\n\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"price\",\n        },\n    });\n};\n</script>\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>Укажите время</h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <div\n            class=\"\n                flex flex-col\n                sm:flex-row\n                md:flex-col\n                lg:flex-row\n                gap-4\n                min-h-[16rem]\n            \"\n        >\n            <div class=\"flex-initial sm:flex-1 md:flex-initial lg:flex-1\">\n                <label for=\"startedAtField\" class=\"mb-2 inline-block\">\n                    Дата и время начала работы:\n                </label>\n                <input\n                    id=\"startedAtField\"\n                    type=\"datetime-local\"\n                    v-model=\"startedAt\"\n                    :min=\"new Date().toISOString().slice(0, -8)\"\n                    class=\"\n                        block\n                        w-full\n                        px-4\n                        py-1.5\n                        rounded-md\n                        bg-primary/10\n                        border border-primary/10\n                        hover:border-primary/50\n                        focus:border-primary focus:outline-none\n                    \"\n                />\n                <div\n                    class=\"text-red-500\"\n                    v-for=\"error in v.startedAt.$errors\"\n                    :key=\"error.$uid\"\n                >\n                    {{ error.$message }}\n                </div>\n            </div>\n            <div class=\"flex-0 sm:flex-1 md:flex-0 lg:flex-1\">\n                <label for=\"endedAtField\" class=\"mb-2 inline-block\">\n                    Дата и время завершения работы:\n                </label>\n                <input\n                    id=\"endedAtField\"\n                    type=\"datetime-local\"\n                    v-model=\"endedAt\"\n                    :min=\"\n                        (startedAt ? new Date(startedAt) : new Date())\n                            .toISOString()\n                            .slice(0, -8)\n                    \"\n                    class=\"\n                        block\n                        w-full\n                        px-4\n                        py-1.5\n                        rounded-md\n                        bg-primary/10\n                        border border-primary/10\n                        hover:border-primary/50\n                        focus:border-primary focus:outline-none\n                    \"\n                />\n\n                <div\n                    class=\"text-red-500\"\n                    v-for=\"error in v.endedAt.$errors\"\n                    :key=\"error.$uid\"\n                >\n                    {{ error.$message }}\n                </div>\n            </div>\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n\n","import script from \"./time-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./time-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport useCategoryApi from \"@/composables/categories/instance\";\nimport {\n    useCreateOrderApi,\n    useUpdateOrderApi,\n} from \"@/composables/orders/instance&storage\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { helpers, requiredIf, requiredUnless } from \"@vuelidate/validators\";\nimport { reactive, ref, onMounted, watch, toRefs } from \"vue\";\n\nimport { useRouter } from \"vue-router\";\nimport BaseForm from \"./base-form.vue\";\n\nconst props = defineProps({ categorySlug: {}, serviceSlugs: {} });\n\nconst { categorySlug, serviceSlugs } = toRefs(props);\nconst {\n    category,\n    isLoading: categoryIsLoading,\n    onGetWhenNotLoaded,\n} = useCategoryApi();\n\nonMounted(() => {\n    onGetWhenNotLoaded(categorySlug.value);\n});\n\nconst {\n    currentDraftedOrder,\n    isUpdating: orderIsUpdating,\n    onUpdate: onUpdateOrder,\n} = useUpdateOrderApi(categorySlug.value);\n\nconst { onCreate: onCreateOrder, isCreating: orderIsCreating } =\n    useCreateOrderApi(categorySlug.value);\n\nconst router = useRouter();\n\nconst state = reactive({\n    is_online: currentDraftedOrder.value.is_online,\n    at_customer: currentDraftedOrder.value.at_customer,\n    at_executor: currentDraftedOrder.value.at_executor,\n});\n\nconst rules = {\n    is_online: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => !state.at_customer || !state.at_executor)\n        ),\n    },\n    at_executor: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => state.at_customer || state.is_online)\n        ),\n    },\n    at_customer: {\n        requiredUnless: helpers.withMessage(\n            \"Выберите как минимум одно значение\",\n            requiredUnless(() => state.is_online || state.at_executor)\n        ),\n    },\n};\nconst $externalResults = reactive({\n    is_online: null,\n    at_customer: null,\n    at_executor: null,\n});\nconst v = useVuelidate(rules, state, { $externalResults });\n\nconst onSubmit = async () => {\n    if (!(await v.value.$validate())) {\n        return;\n    }\n    if (!!!currentDraftedOrder.value)\n        await onCreateOrder({\n            category: categorySlug.value,\n            services: serviceSlugs.value,\n            is_online: state.is_online,\n            at_customer: state.at_customer,\n            at_executor: state.at_executor,\n        });\n    else\n        await onUpdateOrder({\n            is_online: state.is_online,\n            at_customer: state.at_customer,\n            at_executor: state.at_executor,\n        });\n\n    if (state.at_customer) {\n        router.push({\n            name: \"order.update\",\n            params: {\n                categorySlug: categorySlug.value,\n                serviceSlugs: serviceSlugs.value,\n                form: \"address\",\n            },\n        });\n        return;\n    }\n\n    // if (state.at_executor) {\n    //     router.push({\n    //         name: \"order.update\",\n    //         params: {\n    //             categorySlug: categorySlug.value,\n    //             serviceSlugs: serviceSlugs.value,\n    //             form: \"exit_locations\",\n    //         },\n    //     });\n    //     return;\n    // }\n    router.push({\n        name: \"order.update\",\n        params: {\n            categorySlug: categorySlug.value,\n            serviceSlugs: serviceSlugs.value,\n            form: \"time\",\n        },\n    });\n};\n\nconst back = () => router.back();\n</script>\n\n<template>\n    <BaseForm @on-submit=\"onSubmit\">\n        <template #header>\n            <div class=\"pt-1.5 pb-0.5\" v-if=\"categoryIsLoading\">\n                <div\n                    class=\"h-6 w-96 bg-primary/10 rounded-lg animate-pulse\"\n                ></div>\n            </div>\n            <h1 class=\"text-2xl text-primary\" v-else>\n                {{\n                    category.id == 1\n                        ? \"Выберите место проведения занятий\"\n                        : \"Выберите место проведения работы\"\n                }}\n            </h1>\n            <div v-if=\"categoryIsLoading\" class=\"pt-1.5 pb-0.5\">\n                <div\n                    class=\"h-4 w-64 bg-primary/10 rounded-md animate-pulse\"\n                ></div>\n            </div>\n            <p class=\"text-orange-500\">{{ category.name }}</p>\n        </template>\n        <ul>\n            <li>\n                <c-checkbox v-model=\"state.at_executor\">У исполнителя</c-checkbox>\n            </li>\n            <li>\n                <c-checkbox v-model=\"state.at_customer\">У заказчика</c-checkbox>\n            </li>\n            <li>\n                <c-checkbox v-model=\"state.is_online\">Дистанционно</c-checkbox>\n            </li>\n        </ul>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_customer.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.is_online.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <div\n            class=\"text-red-500\"\n            v-for=\"error in v.at_executor.$errors\"\n            :key=\"error.$uid\"\n        >\n            {{ error.$message }}\n        </div>\n        <template #footer>\n            <c-button scheme=\"secondary\" type=\"button\" @click=\"back\">\n                Назад\n            </c-button>\n            <c-button> Продолжить </c-button>\n        </template>\n    </BaseForm>\n</template>\n","import script from \"./work-place-form.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./work-place-form.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["toRefs","props","categorySlug","serviceSlugs","router","useRouter","useCategoryApi","category","onGetWhenNotLoaded","categoryIsLoading","isLoading","onMounted","value","useUpdateOrderApi","currentDraftedOrder","onUpdateOrder","isUpdating","onUpdate","mapSettings","apiKey","lang","coordorder","enterprise","version","back","loadYmap","onClickInMap","e","get","placemark","address","ref","searchedItems","lat","lng","map","onSelectItem","item","geometry","getCoordinates","getAddressLine","console","log","Array","from","setCenter","duration","watch","debounce","ymaps","geocode","geoObjects","toArray","$externalResults","reactive","v","useVuelidate","required","helpers","onSubmit","$validate","catch","response","status","error","data","type","fields","push","name","params","form","__exports__","class","_createElementVNode","_hoisted_2","_hoisted_6","_createBlock","_component_BaseForm","onOnSubmit","_ctx","header","_createElementBlock","_hoisted_3","_toDisplayString","id","_hoisted_7","footer","_createVNode","_component_c_button","scheme","onClick","at_executor","$event","at_customer","is_online","_Fragment","_renderList","$errors","key","$uid","message","script","render","onGetCategoryWhenNotLoaded","orderIsUpdating","description","minLength","Error","computed","minPrice","price_min","maxPrice","price_max","rules","requiredIf","is_ranged_price","usePublishOrderApi","onPublish","isPublishing","isPublished","dir","useRegister","onRegister","isRegistering","isRegistered","registerState","surname","patronymic","username","email","password","passwordConfirmation","ProfileType","registerExternalResults","registerRules","sameAsPassword","sameAs","toRef","in","or","registerValidator","registerErrorMessage","onRegisterHandler","Object","assign","useLogin","onLogin","isLogining","profile","isLogined","loginState","loginExternalResults","loginRules","loginValidator","loginErrorMessage","onLoginHandler","isLoginForm","fullname","service","isCreating","isCreated","promise","useCreateServiceApi","onCreate","parent","create","then","readonly","finally","isLoaded","useServicesApi","perPage","length","services","servicesIsLoading","onGetServices","onGet","isExpanded","s","find","ss","sss","slug","computedServices","index","findIndex","slice","orderIsCreating","serviceIsLoading","newEntry","newEntryField","requiredUnless","requiredif","onCreateService","useCreateOrderApi","onCreateOrder","useServiceApi","fetchedService","onGetService","newService","count","servicesList","children_count","location","href","values","element","isArray","join","started_at","ended_at","startedAt","Date","toISOString","endedAt","minValue","minValueRef","replace","state"],"sourceRoot":""}