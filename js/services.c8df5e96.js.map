{"version":3,"file":"js/services.c8df5e96.js","mappings":"0OAEO,MAAMA,EAAM,CAACC,EAAS,CAAEC,KAAM,GAAIC,SAAU,KAAMC,KAAM,EAAGC,QAAS,IAAOC,EAAS,CAAC,IACjFC,EAAAA,EAAAA,IAAU,oCAAV,QAAgDN,UAAWK,IAGzDE,EAAgB,CAACC,EAAUR,EAAS,CAAEC,KAAM,GAAIQ,MAAO,IAAMJ,EAAS,CAAC,IACzEC,EAAAA,EAAAA,IAAW,oCAAmCE,KAA9C,QAA4DR,UAAWK,IAGrEK,EAAS,CAACC,EAAO,CAAEC,KAAM,GAAIC,OAAQ,KAAMX,SAAU,MAASG,EAAS,CAAC,IAC1EC,EAAAA,EAAAA,KAAW,mCAAoCK,EAAMN,E,yICNjD,SAASS,IACpB,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,EAAkB,KACbC,EAAAA,EAAAA,IAAO,CAACV,EAAUR,KAAWO,EAAAA,EAAAA,GAAcC,EAAUR,KAAUW,GAASI,EAAMI,MAAQR,EAAKT,WAEtG,MAAO,CACHa,OAAOK,EAAAA,EAAAA,IAASL,GAChBE,kBAEP,C,u5CCLK,KAAEI,IAASC,EAAAA,EAAAA,IAAOC,IAKhBC,WAAYC,EAAsBC,MAAOC,KAHlCC,EAAAA,EAAAA,OACDC,EAAAA,EAAAA,OAGZC,EAAAA,EAAAA,OAGAC,QAASC,EACTC,UAAWC,EACXC,SAAUC,EACVC,QAASC,GACPX,EAAgB,CAClBlB,MAAO,CAAC,eAGV8B,EAAAA,EAAAA,KAAUC,gBACFR,GAAN,IAGF,MAAQjB,MAAO0B,EAAexB,gBAAiByB,GAC7C5B,KAGAiB,QAASY,EACTV,UAAWW,EACXT,SAAUU,EACVR,QAASS,GACPJ,I,OAEJH,EAAAA,EAAAA,KAAUC,gBACFG,EAA+BtB,EAAKF,MAAO,CAAElB,KAAM,CAAC,aAA1D,KAGF8C,EAAAA,EAAAA,IAAM1B,GAAMmB,gBACJG,EAA+BtB,EAAKF,MAAO,CAAElB,KAAM,CAAC,aAA1D,I,m+DC3CF,MAAM+C,EAAc,EAEpB,O","sources":["webpack://vue-workbase-app/./src/api/services.js","webpack://vue-workbase-app/./src/composables/categories/model.js","webpack://vue-workbase-app/./src/views/ServicesView.vue","webpack://vue-workbase-app/./src/views/ServicesView.vue?72db"],"sourcesContent":["import axios from \"@/utils/axios\";\n\nexport const get = (params = { with: [], category: null, page: 1, perPage: 10, }, config = {}) => {\n    return axios.get('crazy/freelancer/v1.0.1/services', { params, ...config });\n};\n\nexport const getByIdOrSlug = (idOrSlug, params = { with: [], count: [] }, config = {}) => {\n    return axios.get(`crazy/freelancer/v1.0.1/services/${idOrSlug}`, { params, ...config });\n}\n\nexport const create = (data = { name: '', parent: null, category: null, }, config = {}) => {\n    return axios.post('crazy/freelancer/v1.0.1/services', data, config);\n} ","import { getByIdOrSlug } from \"@/api/categories\";\nimport { isRef, readonly, ref, watch } from \"vue\";\nimport useApi from \"../api\";\n\n\nexport default function useCategoryModel() {\n    const model = ref();\n\n    const onGetByIdOrSlug = () => {\n        return useApi((idOrSlug, params) => getByIdOrSlug(idOrSlug, params), (data) => model.value = data.category);\n    }\n    return {\n        model: readonly(model),\n        onGetByIdOrSlug,\n    };\n}","<script setup>\nimport { useCategoriesCollection } from \"@/composables/categories/collection\";\nimport useCategoryModel from \"@/composables/categories/model\";\nimport { useServicesCollection } from \"@/composables/services/collection\";\nimport { onMounted, toRefs, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\nconst props = defineProps({\n  slug: { type: String, required: true },\n});\nconst { slug } = toRefs(props);\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst { collection: categoriesCollection, onGet: onGetCategories } =\n  useCategoriesCollection();\n\nconst {\n  execute: executeOnGetCategories,\n  isLoading: onGetCategoriesIsLoading,\n  isLoaded: onGetCategoriesIsLoaded,\n  promise: onGetCategoriesPromise,\n} = onGetCategories({\n  count: [\"services\"],\n});\n\nonMounted(async () => {\n  await executeOnGetCategories();\n});\n\nconst { model: categoryModel, onGetByIdOrSlug: onGetCategoryByIdOrSlug } =\n  useCategoryModel();\n\nconst {\n  execute: executeOnGetCategoryByIdOrSlug,\n  isLoading: onGetCategoryByIdOrSlugIsLoading,\n  isLoaded: onGetCategoryByIdOrSlugIsLoaded,\n  promise: onGetCategoryByIdOrSlugPromise,\n} = onGetCategoryByIdOrSlug();\n\nonMounted(async () => {\n  await executeOnGetCategoryByIdOrSlug(slug.value, { with: [\"services\"] });\n});\n\nwatch(slug, async () => {\n  await executeOnGetCategoryByIdOrSlug(slug.value, { with: [\"services\"] });\n});\n</script>\n<template>\n  <section class=\"py-16\">\n    <div class=\"container mx-auto gap-4 py-4 grid md:grid-cols-7\">\n      <div class=\"md:col-span-3 lg:col-span-2\">\n        <div class=\"rounded-lg bg-white shadow shadow-primary/25 p-7 mb-10\">\n          <div v-if=\"onGetCategoriesIsLoading\">\n            <div\n              v-for=\"index in 8\"\n              :key=\"`category-skeleton-${index}`\"\n              class=\"pt-1.5 pb-3.5 flex justify-between\"\n            >\n              <div\n                class=\"\n                  h-4\n                  rounded-full\n                  bg-primary/10\n                  animate-pulse\n                  flex-[0_0_75%]\n                \"\n              ></div>\n              <div\n                class=\"\n                  h-4\n                  rounded-full\n                  bg-primary/10\n                  animate-pulse\n                  flex-[0_0_15%]\n                \"\n              ></div>\n            </div>\n          </div>\n          <div v-else>\n            <router-link\n              class=\"\n                mb-3\n                font-medium\n                flex\n                items-center\n                justify-between\n                hover:text-primary\n                transition\n                duration-200\n              \"\n              href=\"#\"\n              v-for=\"category in categoriesCollection\"\n              :key=\"category.id\"\n              :to=\"{\n                name: 'services',\n                params: { slug: category.slug },\n              }\"\n            >\n              {{ category.name }}\n              <span\n                class=\"font-normal text-base text-gray-400\"\n                v-if=\"category.services_count > 1\"\n              >\n                {{ category.services_count }}\n              </span>\n            </router-link>\n          </div>\n        </div>\n        <div class=\"rounded-lg bg-white shadow shadow-primary/25 p-7\">\n          <h4 class=\"text-xl text-center font-medium mb-10\">\n            Заработайте на том, что делаете лучше всех\n          </h4>\n          <router-link\n            to=\"/signup\"\n            class=\"\n              text-white\n              w-full\n              bg-gradient-to-r\n              from-blue-500\n              via-blue-600\n              to-blue-700\n              hover:bg-gradient-to-br\n              focus:ring-4 focus:outline-none focus:ring-blue-300\n              shadow-lg\n              font-medium\n              rounded-full\n              text-md\n              block\n              px-5\n              py-2.5\n              text-center\n              mr-2\n              mb-2\n            \"\n          >\n            Стать специалистом\n          </router-link>\n        </div>\n      </div>\n      <div\n        v-if=\"onGetCategoriesIsLoading\"\n        class=\"md:col-span-4 lg:col-span-5 pl-10\"\n      >\n        <div\n          class=\"max-w-xs h-9 mb-8 rounded-full bg-primary/10 animate-pulse\"\n        ></div>\n        <div\n          class=\"mb-8 last:mb-0\"\n          v-for=\"index in 3\"\n          :key=\"`category-skeleton-${index}`\"\n        >\n          <div\n            class=\"max-w-xs mb-4 h-7 rounded-full bg-primary/10 animate-pulse\"\n            href=\"#\"\n          ></div>\n          <div class=\"basis-3/6 grid grid-cols-1 lg:grid-cols-2 gap-x-4\">\n            <div\n              href=\"#\"\n              class=\"h-4 mb-4 rounded-full bg-primary/10 animate-pulse\"\n              v-for=\"index in 9\"\n              :key=\"`category-skeleton-${index}`\"\n            ></div>\n          </div>\n          <!-- <div\n\t\t\t\tclass=\"basis-3/6\"\n\t\t\t\tv-for=\"child in categoryModel?.services.slice(2) || []\"\n\t\t\t\t:key=\"child.id\"\n\t\t\t>\n\t\t\t\t<a href=\"#\" class=\"block mb-2 hover:text-primary transition duration-200\">\n\t\t\t\t\t{{ child.name }}\n\t\t\t\t</a>\n\t\t\t\t<div class=\"basis-3/6\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tclass=\"block mb-2 hover:text-primary transition duration-200\"\n\t\t\t\t\t\tv-for=\"ch in categoryModel?.services.slice(2) || []\"\n\t\t\t\t\t\t:key=\"ch.id\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ ch.name }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div> -->\n        </div>\n      </div>\n      <div v-else class=\"md:col-span-4 lg:col-span-5 pl-10\">\n        <h1 class=\"font-bold text-3xl mb-8 text-primary\">\n          {{ categoryModel?.name }}\n        </h1>\n        <div\n          class=\"mb-8 last:mb-0\"\n          v-for=\"index in 3\"\n          :key=\"`category-skeleton-${index}`\"\n        >\n          <a\n            class=\"\n              text-xl\n              font-semibold\n              mb-4\n              block\n              hover:text-primary\n              transition\n              duration-200\n            \"\n            href=\"#\"\n          >\n            Заголовок\n            <span class=\"font-normal text-base text-gray-400\"\n              >({{ index }})</span\n            >\n          </a>\n          <div class=\"basis-3/6 grid grid-cols-1 lg:grid-cols-2 gap-x-4\">\n            <a\n              href=\"#\"\n              class=\"\n                inline-block\n                mb-2\n                hover:text-primary\n                transition\n                duration-200\n              \"\n              v-for=\"index in 9\"\n              :key=\"`category-skeleton-${index}`\"\n            >\n              Далеко-далеко за словесными горами. {{ index }}\n            </a>\n          </div>\n          <!-- <div\n\t\t\t\tclass=\"basis-3/6\"\n\t\t\t\tv-for=\"child in categoryModel?.services.slice(2) || []\"\n\t\t\t\t:key=\"child.id\"\n\t\t\t>\n\t\t\t\t<a href=\"#\" class=\"block mb-2 hover:text-primary transition duration-200\">\n\t\t\t\t\t{{ child.name }}\n\t\t\t\t</a>\n\t\t\t\t<div class=\"basis-3/6\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tclass=\"block mb-2 hover:text-primary transition duration-200\"\n\t\t\t\t\t\tv-for=\"ch in categoryModel?.services.slice(2) || []\"\n\t\t\t\t\t\t:key=\"ch.id\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ ch.name }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div> -->\n        </div>\n      </div>\n    </div>\n  </section>\n</template>","import script from \"./ServicesView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ServicesView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["get","params","with","category","page","perPage","config","axios","getByIdOrSlug","idOrSlug","count","create","data","name","parent","useCategoryModel","model","ref","onGetByIdOrSlug","useApi","value","readonly","slug","toRefs","props","collection","categoriesCollection","onGet","onGetCategories","useRouter","useRoute","useCategoriesCollection","execute","executeOnGetCategories","isLoading","onGetCategoriesIsLoading","isLoaded","onGetCategoriesIsLoaded","promise","onGetCategoriesPromise","onMounted","async","categoryModel","onGetCategoryByIdOrSlug","executeOnGetCategoryByIdOrSlug","onGetCategoryByIdOrSlugIsLoading","onGetCategoryByIdOrSlugIsLoaded","onGetCategoryByIdOrSlugPromise","watch","__exports__"],"sourceRoot":""}